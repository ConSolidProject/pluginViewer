/*! For license information please see 733.aea05f34a6afe4d5cf22.js.LICENSE.txt */
(self.webpackChunkviewer=self.webpackChunkviewer||[]).push([[733],{16913:function(e,t,n){var r,o;void 0===(o="function"==typeof(r=function(){"use strict";function e(t,n,r,o){this.message=t,this.expected=n,this.found=r,this.location=o,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,e)}return function(e,t){function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n}(e,Error),e.buildMessage=function(e,t){var n={literal:function(e){return'"'+o(e.text)+'"'},class:function(e){var t,n="";for(t=0;t<e.parts.length;t++)n+=e.parts[t]instanceof Array?a(e.parts[t][0])+"-"+a(e.parts[t][1]):a(e.parts[t]);return"["+(e.inverted?"^":"")+n+"]"},any:function(e){return"any character"},end:function(e){return"end of input"},other:function(e){return e.description}};function r(e){return e.charCodeAt(0).toString(16).toUpperCase()}function o(e){return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(e){return"\\x0"+r(e)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(e){return"\\x"+r(e)}))}function a(e){return e.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(e){return"\\x0"+r(e)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(e){return"\\x"+r(e)}))}return"Expected "+function(e){var t,r,o,a=new Array(e.length);for(t=0;t<e.length;t++)a[t]=(o=e[t],n[o.type](o));if(a.sort(),a.length>0){for(t=1,r=1;t<a.length;t++)a[t-1]!==a[t]&&(a[r]=a[t],r++);a.length=r}switch(a.length){case 1:return a[0];case 2:return a[0]+" or "+a[1];default:return a.slice(0,-1).join(", ")+", or "+a[a.length-1]}}(e)+" but "+function(e){return e?'"'+o(e)+'"':"end of input"}(t)+" found."},{SyntaxError:e,parse:function(t,r){r=void 0!==r?r:{};var o,a={},i={turtleDoc:_t},s=_t,c=".",l=kt(".",!1),u=kt("#",!1),d=/^[^\n]/,p=Tt(["\n"],!0,!1),f=kt("\n",!1),h=function(e){return e.join("")},g="@prefix",v=kt("@prefix",!1),y=function(e,t){return dn.addPrefix(""===e?"0":e,t),{}},m="@base",x=kt("@base",!1),b=function(e){return dn.addBase(e),{}},w=/^[Bb]/,j=Tt(["B","b"],!1,!1),A=/^[Aa]/,I=Tt(["A","a"],!1,!1),C=/^[Ss]/,S=Tt(["S","s"],!1,!1),N=/^[Ee]/,L=Tt(["E","e"],!1,!1),O=/^[Pp]/,E=Tt(["P","p"],!1,!1),k=/^[Rr]/,T=Tt(["R","r"],!1,!1),D=/^[Ff]/,R=Tt(["F","f"],!1,!1),P=/^[Ii]/,_=Tt(["I","i"],!1,!1),M=/^[Xx]/,F=Tt(["X","x"],!1,!1),J=kt(";",!1),B=function(e,t,n,r){var o={};return o[n]=r,o},U=function(e,t,n){return n},q=kt(",",!1),$=function(e,t){return t},V=kt("a",!1),z=kt("[",!1),H=kt("]",!1),G=kt("(",!1),Q=kt(")",!1),X="^^",W=kt("^^",!1),Z="true",K=kt("true",!1),Y="false",ee=kt("false",!1),te=kt("<",!1),ne=/^[^\0- <>"{}|\^`\\]/,re=Tt([["\0"," "],"<",">",'"',"{","}","|","^","`","\\"],!0,!1),oe=kt(">",!1),ae=":",ie=kt(":",!1),se="_:",ce=kt("_:",!1),le=/^[0-9]/,ue=Tt([["0","9"]],!1,!1),de=kt("@",!1),pe=/^[a-zA-Z]/,fe=Tt([["a","z"],["A","Z"]],!1,!1),he="-",ge=kt("-",!1),ve=/^[a-zA-Z0-9]/,ye=Tt([["a","z"],["A","Z"],["0","9"]],!1,!1),me=function(e,t){return"-"+t.join("")},xe=/^[+\-]/,be=Tt(["+","-"],!1,!1),we=/^[eE]/,je=Tt(["e","E"],!1,!1),Ae='"',Ie=kt('"',!1),Ce=/^[^"\\\n\r]/,Se=Tt(['"',"\\","\n","\r"],!0,!1),Ne="'",Le=kt("'",!1),Oe=/^[^'\\\n\r]/,Ee=Tt(["'","\\","\n","\r"],!0,!1),ke="'''",Te=kt("'''",!1),De=/^[^'\\]/,Re=Tt(["'","\\"],!0,!1),Pe="''",_e=kt("''",!1),Me=function(e,t){return"''"+t.join("")},Fe=function(e,t){return"'"+t.join("")},Je=function(e,t){return e.join("")+t.join("")},Be='"""',Ue=kt('"""',!1),qe=/^[^"\\]/,$e=Tt(['"',"\\"],!0,!1),Ve='""',ze=kt('""',!1),He=function(e,t){return'""'+t.join("")},Ge=function(e,t){return'"'+t.join("")},Qe=kt("\\U",!1),Xe=kt("\\u",!1),We=kt("\\t",!1),Ze=kt("\\b",!1),Ke=kt("\\n",!1),Ye=kt("\\r",!1),et=kt("\\f",!1),tt=kt('\\"',!1),nt=kt("\\'",!1),rt=kt("\\\\",!1),ot=/^[ \t\r\n]/,at=Tt([" ","\t","\r","\n"],!1,!1),it=/^[\uD800-\uDBFF]/,st=Tt([["\ud800","\udbff"]],!1,!1),ct=/^[\uDC00-\uDFFF]/,lt=Tt([["\udc00","\udfff"]],!1,!1),ut=/^[A-Za-z\xC0-\xD6\xD8-\xF6\xF8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,dt=Tt([["A","Z"],["a","z"],["À","Ö"],["Ø","ö"],["ø","˿"],["Ͱ","ͽ"],["Ϳ","῿"],["‌","‍"],["⁰","↏"],["Ⰰ","⿯"],["、","퟿"],["豈","﷏"],["ﷰ","�"]],!1,!1),pt=kt("_",!1),ft=kt("·",!1),ht=/^[\u0300-\u036F]/,gt=Tt([["̀","ͯ"]],!1,!1),vt=/^[\u203F-\u2040]/,yt=Tt([["‿","⁀"]],!1,!1),mt=function(e,t,n,r){return n.join("")+r.join("")},xt=kt("%",!1),bt=/^[0-9A-Fa-f]/,wt=Tt([["0","9"],["A","F"],["a","f"]],!1,!1),jt=kt("\\",!1),At=/^[_~.!$&'()*+,;=\/?#@%\-]/,It=Tt(["_","~",".","!","$","&","'","(",")","*","+",",",";","=","/","?","#","@","%","-"],!1,!1),Ct=0,St=0,Nt=[{line:1,column:1}],Lt=0,Ot=[];if("startRule"in r){if(!(r.startRule in i))throw new Error("Can't start parsing from rule \""+r.startRule+'".');s=i[r.startRule]}function Et(t,n){throw function(t,n){return new e(t,null,null,n)}(t,n=void 0!==n?n:Rt(St,Ct))}function kt(e,t){return{type:"literal",text:e,ignoreCase:t}}function Tt(e,t,n){return{type:"class",parts:e,inverted:t,ignoreCase:n}}function Dt(e){var n,r=Nt[e];if(r)return r;for(n=e-1;!Nt[n];)n--;for(r={line:(r=Nt[n]).line,column:r.column};n<e;)10===t.charCodeAt(n)?(r.line++,r.column=1):r.column++,n++;return Nt[e]=r,r}function Rt(e,t){var n=Dt(e),r=Dt(t);return{start:{offset:e,line:n.line,column:n.column},end:{offset:t,line:r.line,column:r.column}}}function Pt(e){Ct<Lt||(Ct>Lt&&(Lt=Ct,Ot=[]),Ot.push(e))}function _t(){var e,t,n,r,o,i;for(e=Ct,t=[],n=Mt();n!==a;)t.push(n),n=Mt();if(t!==a){for(n=[],r=Ft();r!==a;)n.push(r),r=Ft();n!==a?(St=e,o=t,(i=dn.toJSON())["@graph"]=[],o.filter((e=>Array.isArray(e))).forEach((e=>{e.forEach((e=>{i["@graph"].push(e)}))})),1===i["@graph"].length&&(Object.assign(i,i["@graph"][0]),delete i["@graph"]),e=t=i):(Ct=e,e=a)}else Ct=e,e=a;return e}function Mt(){var e,n,r,o;if((e=function(){var e;return(e=function(){var e,n,r,o,i,s,u,d,p;for(e=Ct,n=[],r=Ft();r!==a;)n.push(r),r=Ft();if(n!==a)if(t.substr(Ct,7)===g?(r=g,Ct+=7):(r=a,Pt(v)),r!==a){for(o=[],i=Ft();i!==a;)o.push(i),i=Ft();if(o!==a)if((i=Wt())!==a){for(s=[],u=Ft();u!==a;)s.push(u),u=Ft();if(s!==a)if((u=Qt())!==a){for(d=[],p=Ft();p!==a;)d.push(p),p=Ft();d!==a?(46===t.charCodeAt(Ct)?(p=c,Ct++):(p=a,Pt(l)),p!==a?(St=e,e=n=y(i,u)):(Ct=e,e=a)):(Ct=e,e=a)}else Ct=e,e=a;else Ct=e,e=a}else Ct=e,e=a;else Ct=e,e=a}else Ct=e,e=a;else Ct=e,e=a;return e}())===a&&(e=function(){var e,n,r,o,i,s,u;for(e=Ct,n=[],r=Ft();r!==a;)n.push(r),r=Ft();if(n!==a)if(t.substr(Ct,5)===m?(r=m,Ct+=5):(r=a,Pt(x)),r!==a){for(o=[],i=Ft();i!==a;)o.push(i),i=Ft();if(o!==a)if((i=Qt())!==a){for(s=[],u=Ft();u!==a;)s.push(u),u=Ft();s!==a?(46===t.charCodeAt(Ct)?(u=c,Ct++):(u=a,Pt(l)),u!==a?(St=e,e=n=b(i)):(Ct=e,e=a)):(Ct=e,e=a)}else Ct=e,e=a;else Ct=e,e=a}else Ct=e,e=a;else Ct=e,e=a;return e}())===a&&(e=function(){var e,n,r,o,i,s,c,l,u,d,p,f;for(e=Ct,n=[],r=Ft();r!==a;)n.push(r),r=Ft();if(n!==a)if(O.test(t.charAt(Ct))?(r=t.charAt(Ct),Ct++):(r=a,Pt(E)),r!==a)if(k.test(t.charAt(Ct))?(o=t.charAt(Ct),Ct++):(o=a,Pt(T)),o!==a)if(N.test(t.charAt(Ct))?(i=t.charAt(Ct),Ct++):(i=a,Pt(L)),i!==a)if(D.test(t.charAt(Ct))?(s=t.charAt(Ct),Ct++):(s=a,Pt(R)),s!==a)if(P.test(t.charAt(Ct))?(c=t.charAt(Ct),Ct++):(c=a,Pt(_)),c!==a)if(M.test(t.charAt(Ct))?(l=t.charAt(Ct),Ct++):(l=a,Pt(F)),l!==a){for(u=[],d=Ft();d!==a;)u.push(d),d=Ft();if(u!==a)if((d=Wt())!==a){for(p=[],f=Ft();f!==a;)p.push(f),f=Ft();p!==a&&(f=Qt())!==a?(St=e,e=n=y(d,f)):(Ct=e,e=a)}else Ct=e,e=a;else Ct=e,e=a}else Ct=e,e=a;else Ct=e,e=a;else Ct=e,e=a;else Ct=e,e=a;else Ct=e,e=a;else Ct=e,e=a;else Ct=e,e=a;return e}())===a&&(e=function(){var e,n,r,o,i,s,c,l;for(e=Ct,n=[],r=Ft();r!==a;)n.push(r),r=Ft();if(n!==a)if(w.test(t.charAt(Ct))?(r=t.charAt(Ct),Ct++):(r=a,Pt(j)),r!==a)if(A.test(t.charAt(Ct))?(o=t.charAt(Ct),Ct++):(o=a,Pt(I)),o!==a)if(C.test(t.charAt(Ct))?(i=t.charAt(Ct),Ct++):(i=a,Pt(S)),i!==a)if(N.test(t.charAt(Ct))?(s=t.charAt(Ct),Ct++):(s=a,Pt(L)),s!==a){for(c=[],l=Ft();l!==a;)c.push(l),l=Ft();c!==a&&(l=Qt())!==a?(St=e,e=n=b(l)):(Ct=e,e=a)}else Ct=e,e=a;else Ct=e,e=a;else Ct=e,e=a;else Ct=e,e=a;else Ct=e,e=a;return e}()),e}())===a)if(e=Ct,(n=function(){var e,t,n;return e=Ct,(t=function(){var e,t;return e=Ct,(t=Vt())!==a&&(St=e,n=t,t=pn(n,!0)),(e=t)===a&&(e=Gt())===a&&(e=Ht()),e;var n}())!==a&&(n=Jt())!==a?(St=e,r=t,o=n,i={},"string"==typeof r&&"[]"!==r?i["@id"]=r:"object"==typeof r&&Object.assign(i,r),o&&Object.assign(i,o),e=t=[i]):(Ct=e,e=a),e===a&&(e=Ct,(t=$t())!==a?((n=Jt())===a&&(n=null),n!==a?(St=e,e=t=function(e,t){var n={};return e&&Object.assign(n,e),t&&Object.assign(n,t),[n]}(t,n)):(Ct=e,e=a)):(Ct=e,e=a)),e;var r,o,i}())!==a){for(r=[],o=Ft();o!==a;)r.push(o),o=Ft();r!==a?(46===t.charCodeAt(Ct)?(o=c,Ct++):(o=a,Pt(l)),o!==a?(St=e,e=n=n):(Ct=e,e=a)):(Ct=e,e=a)}else Ct=e,e=a;return e}function Ft(){var e;return(e=function(){var e;return ot.test(t.charAt(Ct))?(e=t.charAt(Ct),Ct++):(e=a,Pt(at)),e}())===a&&(e=function(){var e,n,r,o;if(e=Ct,35===t.charCodeAt(Ct)?(n="#",Ct++):(n=a,Pt(u)),n!==a){for(r=[],d.test(t.charAt(Ct))?(o=t.charAt(Ct),Ct++):(o=a,Pt(p));o!==a;)r.push(o),d.test(t.charAt(Ct))?(o=t.charAt(Ct),Ct++):(o=a,Pt(p));r!==a?(10===t.charCodeAt(Ct)?(o="\n",Ct++):(o=a,Pt(f)),o!==a?(St=e,e=n=h(r)):(Ct=e,e=a)):(Ct=e,e=a)}else Ct=e,e=a;return e}()),e}function Jt(){var e,n,r,o,i,s,c,l,u,d,p,f,h,g;if(e=Ct,(n=Ut())!==a)if((r=Bt())!==a){for(o=[],i=Ct,s=[],c=Ft();c!==a;)s.push(c),c=Ft();for(s!==a?(59===t.charCodeAt(Ct)?(c=";",Ct++):(c=a,Pt(J)),c!==a?(l=Ct,(u=Ut())!==a&&(d=Bt())!==a?(St=l,l=u=B(0,0,u,d)):(Ct=l,l=a),l===a&&(l=null),l!==a?(St=i,i=s=U(0,0,l)):(Ct=i,i=a)):(Ct=i,i=a)):(Ct=i,i=a);i!==a;){for(o.push(i),i=Ct,s=[],c=Ft();c!==a;)s.push(c),c=Ft();s!==a?(59===t.charCodeAt(Ct)?(c=";",Ct++):(c=a,Pt(J)),c!==a?(l=Ct,(u=Ut())!==a&&(d=Bt())!==a?(St=l,l=u=B(0,0,u,d)):(Ct=l,l=a),l===a&&(l=null),l!==a?(St=i,i=s=U(0,0,l)):(Ct=i,i=a)):(Ct=i,i=a)):(Ct=i,i=a)}o!==a?(St=e,p=n,f=r,g={},(h=o).unshift(function(e,t){var n={};return n[e]=t,n}(p,f)),h.forEach((e=>{e&&Object.keys(e).forEach((t=>{e[t].forEach((e=>{"@type"===t&&void 0!==e["@id"]&&(e=e["@id"]),void 0===g[t]?g[t]=e:Array.isArray(g[t])?g[t].push(e):g[t]=[g[t],e]}))}))})),e=n=g):(Ct=e,e=a)}else Ct=e,e=a;else Ct=e,e=a;return e}function Bt(){var e,n,r,o,i,s,c,l,u;if(e=Ct,(n=qt())!==a){for(r=[],o=Ct,i=[],s=Ft();s!==a;)i.push(s),s=Ft();for(i!==a?(44===t.charCodeAt(Ct)?(s=",",Ct++):(s=a,Pt(q)),s!==a&&(c=qt())!==a?(St=o,o=i=$(0,c)):(Ct=o,o=a)):(Ct=o,o=a);o!==a;){for(r.push(o),o=Ct,i=[],s=Ft();s!==a;)i.push(s),s=Ft();i!==a?(44===t.charCodeAt(Ct)?(s=",",Ct++):(s=a,Pt(q)),s!==a&&(c=qt())!==a?(St=o,o=i=$(0,c)):(Ct=o,o=a)):(Ct=o,o=a)}r!==a?(St=e,l=n,(u=r).unshift(l),e=n=u):(Ct=e,e=a)}else Ct=e,e=a;return e}function Ut(){var e,n,r;if(e=Ct,(n=function(){var e,t,n;for(e=Ct,t=[],n=Ft();n!==a;)t.push(n),n=Ft();return t!==a&&(n=Ht())!==a?(St=e,e=t=n):(Ct=e,e=a),e}())!==a&&(St=e,n=n),(e=n)===a){for(e=Ct,n=[],r=Ft();r!==a;)n.push(r),r=Ft();n!==a?(97===t.charCodeAt(Ct)?(r="a",Ct++):(r=a,Pt(V)),r!==a?(St=e,e=n="@type"):(Ct=e,e=a)):(Ct=e,e=a)}return e}function qt(){var e,n;return(e=function(){var e;return(e=function(){var e,n,r,o,i,s,c;for(e=Ct,n=[],r=Ft();r!==a;)n.push(r),r=Ft();if(n!==a)if((r=zt())!==a){for(o=[],i=Ft();i!==a;)o.push(i),i=Ft();o!==a&&(i=function(){var e,n,r,o,i,s,c,l;if(e=Ct,64===t.charCodeAt(Ct)?(n="@",Ct++):(n=a,Pt(de)),n!==a){if(r=[],pe.test(t.charAt(Ct))?(o=t.charAt(Ct),Ct++):(o=a,Pt(fe)),o!==a)for(;o!==a;)r.push(o),pe.test(t.charAt(Ct))?(o=t.charAt(Ct),Ct++):(o=a,Pt(fe));else r=a;if(r!==a){if(o=[],i=Ct,45===t.charCodeAt(Ct)?(s=he,Ct++):(s=a,Pt(ge)),s!==a){if(c=[],ve.test(t.charAt(Ct))?(l=t.charAt(Ct),Ct++):(l=a,Pt(ye)),l!==a)for(;l!==a;)c.push(l),ve.test(t.charAt(Ct))?(l=t.charAt(Ct),Ct++):(l=a,Pt(ye));else c=a;c!==a?(St=i,i=s=me(0,c)):(Ct=i,i=a)}else Ct=i,i=a;for(;i!==a;)if(o.push(i),i=Ct,45===t.charCodeAt(Ct)?(s=he,Ct++):(s=a,Pt(ge)),s!==a){if(c=[],ve.test(t.charAt(Ct))?(l=t.charAt(Ct),Ct++):(l=a,Pt(ye)),l!==a)for(;l!==a;)c.push(l),ve.test(t.charAt(Ct))?(l=t.charAt(Ct),Ct++):(l=a,Pt(ye));else c=a;c!==a?(St=i,i=s=me(0,c)):(Ct=i,i=a)}else Ct=i,i=a;o!==a?(St=e,u=o,e=n=r.join("")+u.join("")):(Ct=e,e=a)}else Ct=e,e=a}else Ct=e,e=a;var u;return e}())!==a?(St=e,e=n={"@value":r,"@language":i}):(Ct=e,e=a)}else Ct=e,e=a;else Ct=e,e=a;if(e===a){for(e=Ct,n=[],r=Ft();r!==a;)n.push(r),r=Ft();if(n!==a)if((r=zt())!==a){for(o=[],i=Ft();i!==a;)o.push(i),i=Ft();if(o!==a)if(t.substr(Ct,2)===X?(i=X,Ct+=2):(i=a,Pt(W)),i!==a){for(s=[],c=Ft();c!==a;)s.push(c),c=Ft();s!==a&&(c=Ht())!==a?(St=e,e=n=function(e,t){if("http://www.w3.org/2001/XMLSchema#boolean"===t&&"true"===e)return!0;if("http://www.w3.org/2001/XMLSchema#boolean"===t&&"false"===e)return!1;if("http://www.w3.org/2001/XMLSchema#integer"===t)return parseInt(e);if("http://www.w3.org/2001/XMLSchema#double"===t)return parseFloat(e);const n=dn.resolve(t,!0);if(n){const r=t.split(":")[0];if("http://www.w3.org/2001/XMLSchema#boolean"===n&&"true"===e)return dn.decrement(r),!0;if("http://www.w3.org/2001/XMLSchema#boolean"===n&&"false"===e)return dn.decrement(r),!1;if("http://www.w3.org/2001/XMLSchema#integer"===n)return dn.decrement(r),parseInt(e);if("http://www.w3.org/2001/XMLSchema#double"===n)return dn.decrement(r),parseFloat(e)}return{"@value":e,"@type":t}}(r,c)):(Ct=e,e=a)}else Ct=e,e=a;else Ct=e,e=a}else Ct=e,e=a;else Ct=e,e=a;if(e===a){for(e=Ct,n=[],r=Ft();r!==a;)n.push(r),r=Ft();n!==a&&(r=zt())!==a?(St=e,e=n=r):(Ct=e,e=a)}}return e}())===a&&(e=function(){var e,n,r;for(e=Ct,n=[],r=Ft();r!==a;)n.push(r),r=Ft();return n!==a?((r=function(){var e,n,r,o,i,s,u,d,p;if(e=Ct,n=Ct,r=Ct,xe.test(t.charAt(Ct))?(o=t.charAt(Ct),Ct++):(o=a,Pt(be)),o===a&&(o=null),o!==a){if(i=Ct,s=[],le.test(t.charAt(Ct))?(u=t.charAt(Ct),Ct++):(u=a,Pt(ue)),u!==a)for(;u!==a;)s.push(u),le.test(t.charAt(Ct))?(u=t.charAt(Ct),Ct++):(u=a,Pt(ue));else s=a;if(s!==a)if(46===t.charCodeAt(Ct)?(u=c,Ct++):(u=a,Pt(l)),u!==a){for(d=[],le.test(t.charAt(Ct))?(p=t.charAt(Ct),Ct++):(p=a,Pt(ue));p!==a;)d.push(p),le.test(t.charAt(Ct))?(p=t.charAt(Ct),Ct++):(p=a,Pt(ue));d!==a&&(p=Zt())!==a?i=s=[s,u,d,p]:(Ct=i,i=a)}else Ct=i,i=a;else Ct=i,i=a;if(i===a){if(i=Ct,46===t.charCodeAt(Ct)?(s=c,Ct++):(s=a,Pt(l)),s!==a){if(u=[],le.test(t.charAt(Ct))?(d=t.charAt(Ct),Ct++):(d=a,Pt(ue)),d!==a)for(;d!==a;)u.push(d),le.test(t.charAt(Ct))?(d=t.charAt(Ct),Ct++):(d=a,Pt(ue));else u=a;u!==a&&(d=Zt())!==a?i=s=[s,u,d]:(Ct=i,i=a)}else Ct=i,i=a;if(i===a){if(i=Ct,s=[],le.test(t.charAt(Ct))?(u=t.charAt(Ct),Ct++):(u=a,Pt(ue)),u!==a)for(;u!==a;)s.push(u),le.test(t.charAt(Ct))?(u=t.charAt(Ct),Ct++):(u=a,Pt(ue));else s=a;s!==a&&(u=Zt())!==a?i=s=[s,u]:(Ct=i,i=a)}}i!==a?r=o=[o,i]:(Ct=r,r=a)}else Ct=r,r=a;return(n=r!==a?t.substring(n,Ct):r)!==a&&(St=e,f=n,n={"@value":f,"@type":"http://www.w3.org/2001/XMLSchema#double"}),n;var f}())===a&&(r=function(){var e,n,r,o,i,s,u,d;if(e=Ct,n=Ct,r=Ct,xe.test(t.charAt(Ct))?(o=t.charAt(Ct),Ct++):(o=a,Pt(be)),o===a&&(o=null),o!==a){for(i=[],le.test(t.charAt(Ct))?(s=t.charAt(Ct),Ct++):(s=a,Pt(ue));s!==a;)i.push(s),le.test(t.charAt(Ct))?(s=t.charAt(Ct),Ct++):(s=a,Pt(ue));if(i!==a)if(46===t.charCodeAt(Ct)?(s=c,Ct++):(s=a,Pt(l)),s!==a){if(u=[],le.test(t.charAt(Ct))?(d=t.charAt(Ct),Ct++):(d=a,Pt(ue)),d!==a)for(;d!==a;)u.push(d),le.test(t.charAt(Ct))?(d=t.charAt(Ct),Ct++):(d=a,Pt(ue));else u=a;u!==a?r=o=[o,i,s,u]:(Ct=r,r=a)}else Ct=r,r=a;else Ct=r,r=a}else Ct=r,r=a;return(n=r!==a?t.substring(n,Ct):r)!==a&&(St=e,p=n,n={"@value":p,"@type":"http://www.w3.org/2001/XMLSchema#decimal"}),n;var p}())===a&&(r=function(){var e,n,r,o,i,s;if(e=Ct,n=Ct,r=Ct,xe.test(t.charAt(Ct))?(o=t.charAt(Ct),Ct++):(o=a,Pt(be)),o===a&&(o=null),o!==a){if(i=[],le.test(t.charAt(Ct))?(s=t.charAt(Ct),Ct++):(s=a,Pt(ue)),s!==a)for(;s!==a;)i.push(s),le.test(t.charAt(Ct))?(s=t.charAt(Ct),Ct++):(s=a,Pt(ue));else i=a;i!==a?r=o=[o,i]:(Ct=r,r=a)}else Ct=r,r=a;return(n=r!==a?t.substring(n,Ct):r)!==a&&(St=e,c=n,n=parseInt(c)),n;var c}()),r!==a?(St=e,e=n=r):(Ct=e,e=a)):(Ct=e,e=a),e}())===a&&(e=function(){var e,n,r;for(e=Ct,n=[],r=Ft();r!==a;)n.push(r),r=Ft();if(n!==a?(t.substr(Ct,4)===Z?(r=Z,Ct+=4):(r=a,Pt(K)),r!==a?(St=e,e=n=!0):(Ct=e,e=a)):(Ct=e,e=a),e===a){for(e=Ct,n=[],r=Ft();r!==a;)n.push(r),r=Ft();n!==a?(t.substr(Ct,5)===Y?(r=Y,Ct+=5):(r=a,Pt(ee)),r!==a?(St=e,e=n=!1):(Ct=e,e=a)):(Ct=e,e=a)}return e}()),e}())===a&&(e=Ct,(n=Vt())!==a&&(St=e,n=pn(n,!1)),(e=n)===a&&(e=Ct,(n=Gt())!==a&&(St=e,n=function(e){return"[]"===e?{}:{"@id":e}}(n)),(e=n)===a&&(e=Ct,(n=$t())!==a&&(St=e,n=n),(e=n)===a&&(e=Ct,(n=Ht())!==a&&(St=e,n=function(e){return{"@id":e}}(n)),e=n)))),e}function $t(){var e,n,r,o,i,s;for(e=Ct,n=[],r=Ft();r!==a;)n.push(r),r=Ft();if(n!==a)if(91===t.charCodeAt(Ct)?(r="[",Ct++):(r=a,Pt(z)),r!==a)if((o=Jt())!==a){for(i=[],s=Ft();s!==a;)i.push(s),s=Ft();i!==a?(93===t.charCodeAt(Ct)?(s="]",Ct++):(s=a,Pt(H)),s!==a?(St=e,e=n=o):(Ct=e,e=a)):(Ct=e,e=a)}else Ct=e,e=a;else Ct=e,e=a;else Ct=e,e=a;return e}function Vt(){var e,n,r,o,i,s;for(e=Ct,n=[],r=Ft();r!==a;)n.push(r),r=Ft();if(n!==a)if(40===t.charCodeAt(Ct)?(r="(",Ct++):(r=a,Pt(G)),r!==a){for(o=[],i=qt();i!==a;)o.push(i),i=qt();if(o!==a){for(i=[],s=Ft();s!==a;)i.push(s),s=Ft();i!==a?(41===t.charCodeAt(Ct)?(s=")",Ct++):(s=a,Pt(Q)),s!==a?(St=e,e=n={"@list":o}):(Ct=e,e=a)):(Ct=e,e=a)}else Ct=e,e=a}else Ct=e,e=a;else Ct=e,e=a;return e}function zt(){var e,n,r;for(e=Ct,n=[],r=Ft();r!==a;)n.push(r),r=Ft();return n!==a?((r=function(){var e,n,r,o,i,s,c,l;if(e=Ct,t.substr(Ct,3)===ke?(n=ke,Ct+=3):(n=a,Pt(Te)),n!==a){for(r=[],De.test(t.charAt(Ct))?(o=t.charAt(Ct),Ct++):(o=a,Pt(Re)),o===a&&(o=Yt())===a&&(o=Kt());o!==a;)r.push(o),De.test(t.charAt(Ct))?(o=t.charAt(Ct),Ct++):(o=a,Pt(Re)),o===a&&(o=Yt())===a&&(o=Kt());if(r!==a){if(o=[],i=Ct,t.substr(Ct,2)===Pe?(s=Pe,Ct+=2):(s=a,Pt(_e)),s!==a){if(c=[],De.test(t.charAt(Ct))?(l=t.charAt(Ct),Ct++):(l=a,Pt(Re)),l===a&&(l=Yt())===a&&(l=Kt()),l!==a)for(;l!==a;)c.push(l),De.test(t.charAt(Ct))?(l=t.charAt(Ct),Ct++):(l=a,Pt(Re)),l===a&&(l=Yt())===a&&(l=Kt());else c=a;c!==a?(St=i,i=s=Me(0,c)):(Ct=i,i=a)}else Ct=i,i=a;if(i===a)if(i=Ct,39===t.charCodeAt(Ct)?(s=Ne,Ct++):(s=a,Pt(Le)),s!==a){if(c=[],De.test(t.charAt(Ct))?(l=t.charAt(Ct),Ct++):(l=a,Pt(Re)),l===a&&(l=Yt())===a&&(l=Kt()),l!==a)for(;l!==a;)c.push(l),De.test(t.charAt(Ct))?(l=t.charAt(Ct),Ct++):(l=a,Pt(Re)),l===a&&(l=Yt())===a&&(l=Kt());else c=a;c!==a?(St=i,i=s=Fe(0,c)):(Ct=i,i=a)}else Ct=i,i=a;for(;i!==a;){if(o.push(i),i=Ct,t.substr(Ct,2)===Pe?(s=Pe,Ct+=2):(s=a,Pt(_e)),s!==a){if(c=[],De.test(t.charAt(Ct))?(l=t.charAt(Ct),Ct++):(l=a,Pt(Re)),l===a&&(l=Yt())===a&&(l=Kt()),l!==a)for(;l!==a;)c.push(l),De.test(t.charAt(Ct))?(l=t.charAt(Ct),Ct++):(l=a,Pt(Re)),l===a&&(l=Yt())===a&&(l=Kt());else c=a;c!==a?(St=i,i=s=Me(0,c)):(Ct=i,i=a)}else Ct=i,i=a;if(i===a)if(i=Ct,39===t.charCodeAt(Ct)?(s=Ne,Ct++):(s=a,Pt(Le)),s!==a){if(c=[],De.test(t.charAt(Ct))?(l=t.charAt(Ct),Ct++):(l=a,Pt(Re)),l===a&&(l=Yt())===a&&(l=Kt()),l!==a)for(;l!==a;)c.push(l),De.test(t.charAt(Ct))?(l=t.charAt(Ct),Ct++):(l=a,Pt(Re)),l===a&&(l=Yt())===a&&(l=Kt());else c=a;c!==a?(St=i,i=s=Fe(0,c)):(Ct=i,i=a)}else Ct=i,i=a}o!==a?(t.substr(Ct,3)===ke?(i=ke,Ct+=3):(i=a,Pt(Te)),i!==a?(St=e,e=n=Je(r,o)):(Ct=e,e=a)):(Ct=e,e=a)}else Ct=e,e=a}else Ct=e,e=a;return e}())===a&&(r=function(){var e,n,r,o,i,s,c,l;if(e=Ct,t.substr(Ct,3)===Be?(n=Be,Ct+=3):(n=a,Pt(Ue)),n!==a){for(r=[],qe.test(t.charAt(Ct))?(o=t.charAt(Ct),Ct++):(o=a,Pt($e)),o===a&&(o=Yt())===a&&(o=Kt());o!==a;)r.push(o),qe.test(t.charAt(Ct))?(o=t.charAt(Ct),Ct++):(o=a,Pt($e)),o===a&&(o=Yt())===a&&(o=Kt());if(r!==a){if(o=[],i=Ct,t.substr(Ct,2)===Ve?(s=Ve,Ct+=2):(s=a,Pt(ze)),s!==a){if(c=[],qe.test(t.charAt(Ct))?(l=t.charAt(Ct),Ct++):(l=a,Pt($e)),l===a&&(l=Yt())===a&&(l=Kt()),l!==a)for(;l!==a;)c.push(l),qe.test(t.charAt(Ct))?(l=t.charAt(Ct),Ct++):(l=a,Pt($e)),l===a&&(l=Yt())===a&&(l=Kt());else c=a;c!==a?(St=i,i=s=He(0,c)):(Ct=i,i=a)}else Ct=i,i=a;if(i===a)if(i=Ct,34===t.charCodeAt(Ct)?(s=Ae,Ct++):(s=a,Pt(Ie)),s!==a){if(c=[],qe.test(t.charAt(Ct))?(l=t.charAt(Ct),Ct++):(l=a,Pt($e)),l===a&&(l=Yt())===a&&(l=Kt()),l!==a)for(;l!==a;)c.push(l),qe.test(t.charAt(Ct))?(l=t.charAt(Ct),Ct++):(l=a,Pt($e)),l===a&&(l=Yt())===a&&(l=Kt());else c=a;c!==a?(St=i,i=s=Ge(0,c)):(Ct=i,i=a)}else Ct=i,i=a;for(;i!==a;){if(o.push(i),i=Ct,t.substr(Ct,2)===Ve?(s=Ve,Ct+=2):(s=a,Pt(ze)),s!==a){if(c=[],qe.test(t.charAt(Ct))?(l=t.charAt(Ct),Ct++):(l=a,Pt($e)),l===a&&(l=Yt())===a&&(l=Kt()),l!==a)for(;l!==a;)c.push(l),qe.test(t.charAt(Ct))?(l=t.charAt(Ct),Ct++):(l=a,Pt($e)),l===a&&(l=Yt())===a&&(l=Kt());else c=a;c!==a?(St=i,i=s=He(0,c)):(Ct=i,i=a)}else Ct=i,i=a;if(i===a)if(i=Ct,34===t.charCodeAt(Ct)?(s=Ae,Ct++):(s=a,Pt(Ie)),s!==a){if(c=[],qe.test(t.charAt(Ct))?(l=t.charAt(Ct),Ct++):(l=a,Pt($e)),l===a&&(l=Yt())===a&&(l=Kt()),l!==a)for(;l!==a;)c.push(l),qe.test(t.charAt(Ct))?(l=t.charAt(Ct),Ct++):(l=a,Pt($e)),l===a&&(l=Yt())===a&&(l=Kt());else c=a;c!==a?(St=i,i=s=Ge(0,c)):(Ct=i,i=a)}else Ct=i,i=a}o!==a?(t.substr(Ct,3)===Be?(i=Be,Ct+=3):(i=a,Pt(Ue)),i!==a?(St=e,e=n=Je(r,o)):(Ct=e,e=a)):(Ct=e,e=a)}else Ct=e,e=a}else Ct=e,e=a;return e}())===a&&(r=function(){var e,n,r,o;if(e=Ct,39===t.charCodeAt(Ct)?(n=Ne,Ct++):(n=a,Pt(Le)),n!==a){for(r=[],Oe.test(t.charAt(Ct))?(o=t.charAt(Ct),Ct++):(o=a,Pt(Ee)),o===a&&(o=Yt())===a&&(o=Kt());o!==a;)r.push(o),Oe.test(t.charAt(Ct))?(o=t.charAt(Ct),Ct++):(o=a,Pt(Ee)),o===a&&(o=Yt())===a&&(o=Kt());r!==a?(39===t.charCodeAt(Ct)?(o=Ne,Ct++):(o=a,Pt(Le)),o!==a?(St=e,e=n=h(r)):(Ct=e,e=a)):(Ct=e,e=a)}else Ct=e,e=a;return e}())===a&&(r=function(){var e,n,r,o;if(e=Ct,34===t.charCodeAt(Ct)?(n=Ae,Ct++):(n=a,Pt(Ie)),n!==a){for(r=[],Ce.test(t.charAt(Ct))?(o=t.charAt(Ct),Ct++):(o=a,Pt(Se)),o===a&&(o=Yt())===a&&(o=Kt());o!==a;)r.push(o),Ce.test(t.charAt(Ct))?(o=t.charAt(Ct),Ct++):(o=a,Pt(Se)),o===a&&(o=Yt())===a&&(o=Kt());r!==a?(34===t.charCodeAt(Ct)?(o=Ae,Ct++):(o=a,Pt(Ie)),o!==a?(St=e,e=n=h(r)):(Ct=e,e=a)):(Ct=e,e=a)}else Ct=e,e=a;return e}()),r!==a?(St=e,e=n=r):(Ct=e,e=a)):(Ct=e,e=a),e}function Ht(){var e,n,r;for(e=Ct,n=[],r=Ft();r!==a;)n.push(r),r=Ft();if(n!==a&&(r=Qt())!==a?(St=e,e=n=r):(Ct=e,e=a),e===a){for(e=Ct,n=[],r=Ft();r!==a;)n.push(r),r=Ft();n!==a&&(r=function(){var e,n;return(e=function(){var e,n,r;return e=Ct,(n=Xt())!==a&&(r=function(){var e,n,r,o,i,s,u,d;if(e=Ct,(n=tn())===a&&(58===t.charCodeAt(Ct)?(n=ae,Ct++):(n=a,Pt(ie)),n===a&&(le.test(t.charAt(Ct))?(n=t.charAt(Ct),Ct++):(n=a,Pt(ue)),n===a&&(n=on()))),n!==a){for(r=[],(o=nn())===a&&(58===t.charCodeAt(Ct)?(o=ae,Ct++):(o=a,Pt(ie)),o===a&&(o=on()));o!==a;)r.push(o),(o=nn())===a&&(58===t.charCodeAt(Ct)?(o=ae,Ct++):(o=a,Pt(ie)),o===a&&(o=on()));if(r!==a){if(o=[],i=Ct,s=[],46===t.charCodeAt(Ct)?(u=c,Ct++):(u=a,Pt(l)),u!==a)for(;u!==a;)s.push(u),46===t.charCodeAt(Ct)?(u=c,Ct++):(u=a,Pt(l));else s=a;if(s!==a){if(u=[],(d=nn())===a&&(58===t.charCodeAt(Ct)?(d=ae,Ct++):(d=a,Pt(ie)),d===a&&(d=on())),d!==a)for(;d!==a;)u.push(d),(d=nn())===a&&(58===t.charCodeAt(Ct)?(d=ae,Ct++):(d=a,Pt(ie)),d===a&&(d=on()));else u=a;u!==a?(St=i,i=s=mt(0,0,s,u)):(Ct=i,i=a)}else Ct=i,i=a;for(;i!==a;){if(o.push(i),i=Ct,s=[],46===t.charCodeAt(Ct)?(u=c,Ct++):(u=a,Pt(l)),u!==a)for(;u!==a;)s.push(u),46===t.charCodeAt(Ct)?(u=c,Ct++):(u=a,Pt(l));else s=a;if(s!==a){if(u=[],(d=nn())===a&&(58===t.charCodeAt(Ct)?(d=ae,Ct++):(d=a,Pt(ie)),d===a&&(d=on())),d!==a)for(;d!==a;)u.push(d),(d=nn())===a&&(58===t.charCodeAt(Ct)?(d=ae,Ct++):(d=a,Pt(ie)),d===a&&(d=on()));else u=a;u!==a?(St=i,i=s=mt(0,0,s,u)):(Ct=i,i=a)}else Ct=i,i=a}o!==a?(St=e,p=o,e=n=n+r.join("")+p.join("")):(Ct=e,e=a)}else Ct=e,e=a}else Ct=e,e=a;var p;return e}())!==a?(St=e,o=n,i=r,dn.increment(o),e=n=dn.resolve(o+":"+i)):(Ct=e,e=a),e;var o,i}())===a&&(e=Ct,(n=Xt())!==a&&(St=e,r=n,n=r+":"),e=n),e;var r}())!==a?(St=e,e=n=r):(Ct=e,e=a)}return e}function Gt(){var e,n,r;for(e=Ct,n=[],r=Ft();r!==a;)n.push(r),r=Ft();if(n!==a&&(r=function(){var e,n,r,o,i,s,u,d,p,f;if(e=Ct,n=Ct,t.substr(Ct,2)===se?(r=se,Ct+=2):(r=a,Pt(ce)),r!==a)if((o=tn())===a&&(le.test(t.charAt(Ct))?(o=t.charAt(Ct),Ct++):(o=a,Pt(ue))),o!==a){for(i=[],s=nn();s!==a;)i.push(s),s=nn();if(i!==a){if(s=[],u=Ct,d=[],46===t.charCodeAt(Ct)?(p=c,Ct++):(p=a,Pt(l)),p!==a)for(;p!==a;)d.push(p),46===t.charCodeAt(Ct)?(p=c,Ct++):(p=a,Pt(l));else d=a;if(d!==a){if(p=[],(f=nn())!==a)for(;f!==a;)p.push(f),f=nn();else p=a;p!==a?u=d=[d,p]:(Ct=u,u=a)}else Ct=u,u=a;for(;u!==a;){if(s.push(u),u=Ct,d=[],46===t.charCodeAt(Ct)?(p=c,Ct++):(p=a,Pt(l)),p!==a)for(;p!==a;)d.push(p),46===t.charCodeAt(Ct)?(p=c,Ct++):(p=a,Pt(l));else d=a;if(d!==a){if(p=[],(f=nn())!==a)for(;f!==a;)p.push(f),f=nn();else p=a;p!==a?u=d=[d,p]:(Ct=u,u=a)}else Ct=u,u=a}s!==a?n=r=[r,o,i,s]:(Ct=n,n=a)}else Ct=n,n=a}else Ct=n,n=a;else Ct=n,n=a;return n!==a?t.substring(e,Ct):n}())!==a?(St=e,e=n=r):(Ct=e,e=a),e===a){for(e=Ct,n=[],r=Ft();r!==a;)n.push(r),r=Ft();n!==a&&(r=function(){var e,n,r,o;if(e=Ct,91===t.charCodeAt(Ct)?(n="[",Ct++):(n=a,Pt(z)),n!==a){for(r=[],o=Ft();o!==a;)r.push(o),o=Ft();r!==a?(93===t.charCodeAt(Ct)?(o="]",Ct++):(o=a,Pt(H)),o!==a?(St=e,e=n="[]"):(Ct=e,e=a)):(Ct=e,e=a)}else Ct=e,e=a;return e}())!==a?(St=e,e=n=r):(Ct=e,e=a)}return e}function Qt(){var e,n,r,o;if(e=Ct,60===t.charCodeAt(Ct)?(n="<",Ct++):(n=a,Pt(te)),n!==a){for(r=[],ne.test(t.charAt(Ct))?(o=t.charAt(Ct),Ct++):(o=a,Pt(re)),o===a&&(o=Kt());o!==a;)r.push(o),ne.test(t.charAt(Ct))?(o=t.charAt(Ct),Ct++):(o=a,Pt(re)),o===a&&(o=Kt());r!==a?(62===t.charCodeAt(Ct)?(o=">",Ct++):(o=a,Pt(oe)),o!==a?(St=e,e=n=function(e){const t=e.map((e=>65536<=e.codePointAt(0)&&e.codePointAt(0)<=983039?"a":1===e.length?e:6===e.length?String.fromCharCode("0x"+e.substring(2)):10===e.length?String.fromCodePoint("0x"+e.substring(2)):e)).join("");if(t.match(/^[^\u0000-\u0020<>"{}|^`\\]*$/)){var n=e.join("");try{return dn.resolve(n)}catch(e){Et("Invalid IRIREF "+n)}}else Et("Invalid IRIREF "+e.join("")+" / "+t)}(r)):(Ct=e,e=a)):(Ct=e,e=a)}else Ct=e,e=a;return e}function Xt(){var e,n,r,o;return e=Ct,(n=rn())===a&&(n=null),n!==a?(58===t.charCodeAt(Ct)?(r=ae,Ct++):(r=a,Pt(ie)),r!==a?(St=e,o=(o=n)||"0",!1===dn.hasPrefix(o)&&Et("undefined prefix "+o),e=n=o):(Ct=e,e=a)):(Ct=e,e=a),e}function Wt(){var e,n,r;return e=Ct,(n=rn())===a&&(n=null),n!==a?(58===t.charCodeAt(Ct)?(r=ae,Ct++):(r=a,Pt(ie)),r!==a?(St=e,e=n=n||""):(Ct=e,e=a)):(Ct=e,e=a),e}function Zt(){var e,n,r,o,i,s;if(e=Ct,n=Ct,we.test(t.charAt(Ct))?(r=t.charAt(Ct),Ct++):(r=a,Pt(je)),r!==a)if(xe.test(t.charAt(Ct))?(o=t.charAt(Ct),Ct++):(o=a,Pt(be)),o===a&&(o=null),o!==a){if(i=[],le.test(t.charAt(Ct))?(s=t.charAt(Ct),Ct++):(s=a,Pt(ue)),s!==a)for(;s!==a;)i.push(s),le.test(t.charAt(Ct))?(s=t.charAt(Ct),Ct++):(s=a,Pt(ue));else i=a;i!==a?n=r=[r,o,i]:(Ct=n,n=a)}else Ct=n,n=a;else Ct=n,n=a;return n!==a?t.substring(e,Ct):n}function Kt(){var e,n,r,o,i,s,c,l,u,d,p,f;return e=Ct,"\\U"===t.substr(Ct,2)?(n="\\U",Ct+=2):(n=a,Pt(Qe)),n!==a?(r=Ct,(o=an())!==a&&(i=an())!==a&&(s=an())!==a&&(c=an())!==a&&(l=an())!==a&&(u=an())!==a&&(d=an())!==a&&(p=an())!==a?r=o=[o,i,s,c,l,u,d,p]:(Ct=r,r=a),r!==a?(St=e,f=r,e=n=String.fromCodePoint(parseInt(f.join(""),16))):(Ct=e,e=a)):(Ct=e,e=a),e===a&&(e=Ct,"\\u"===t.substr(Ct,2)?(n="\\u",Ct+=2):(n=a,Pt(Xe)),n!==a?(r=Ct,(o=an())!==a&&(i=an())!==a&&(s=an())!==a&&(c=an())!==a?r=o=[o,i,s,c]:(Ct=r,r=a),r!==a?(St=e,e=n=function(e){return String.fromCharCode(parseInt(e.join(""),16))}(r)):(Ct=e,e=a)):(Ct=e,e=a)),e}function Yt(){var e,n;return e=Ct,"\\t"===t.substr(Ct,2)?(n="\\t",Ct+=2):(n=a,Pt(We)),n!==a&&(St=e,n="\t"),(e=n)===a&&(e=Ct,"\\b"===t.substr(Ct,2)?(n="\\b",Ct+=2):(n=a,Pt(Ze)),n!==a&&(St=e,n="\b"),(e=n)===a&&(e=Ct,"\\n"===t.substr(Ct,2)?(n="\\n",Ct+=2):(n=a,Pt(Ke)),n!==a&&(St=e,n="\n"),(e=n)===a&&(e=Ct,"\\r"===t.substr(Ct,2)?(n="\\r",Ct+=2):(n=a,Pt(Ye)),n!==a&&(St=e,n="\r"),(e=n)===a&&(e=Ct,"\\f"===t.substr(Ct,2)?(n="\\f",Ct+=2):(n=a,Pt(et)),n!==a&&(St=e,n="\f"),(e=n)===a&&(e=Ct,'\\"'===t.substr(Ct,2)?(n='\\"',Ct+=2):(n=a,Pt(tt)),n!==a&&(St=e,n='"'),(e=n)===a&&(e=Ct,"\\'"===t.substr(Ct,2)?(n="\\'",Ct+=2):(n=a,Pt(nt)),n!==a&&(St=e,n="'"),(e=n)===a&&(e=Ct,"\\\\"===t.substr(Ct,2)?(n="\\\\",Ct+=2):(n=a,Pt(rt)),n!==a&&(St=e,n="\\"),e=n))))))),e}function en(){var e,n,r;return e=Ct,it.test(t.charAt(Ct))?(n=t.charAt(Ct),Ct++):(n=a,Pt(st)),n!==a?(ct.test(t.charAt(Ct))?(r=t.charAt(Ct),Ct++):(r=a,Pt(lt)),r!==a?(St=e,e=n=n+r):(Ct=e,e=a)):(Ct=e,e=a),e===a&&(ut.test(t.charAt(Ct))?(e=t.charAt(Ct),Ct++):(e=a,Pt(dt))),e}function tn(){var e;return(e=en())===a&&(95===t.charCodeAt(Ct)?(e="_",Ct++):(e=a,Pt(pt))),e}function nn(){var e;return(e=tn())===a&&(45===t.charCodeAt(Ct)?(e=he,Ct++):(e=a,Pt(ge)),e===a&&(le.test(t.charAt(Ct))?(e=t.charAt(Ct),Ct++):(e=a,Pt(ue)),e===a&&(183===t.charCodeAt(Ct)?(e="·",Ct++):(e=a,Pt(ft)),e===a&&(ht.test(t.charAt(Ct))?(e=t.charAt(Ct),Ct++):(e=a,Pt(gt)),e===a&&(vt.test(t.charAt(Ct))?(e=t.charAt(Ct),Ct++):(e=a,Pt(yt))))))),e}function rn(){var e,n,r,o,i,s,u,d,p;if(e=Ct,n=Ct,(r=en())!==a){for(o=[],i=nn();i!==a;)o.push(i),i=nn();if(o!==a){if(i=[],s=Ct,u=[],46===t.charCodeAt(Ct)?(d=c,Ct++):(d=a,Pt(l)),d!==a)for(;d!==a;)u.push(d),46===t.charCodeAt(Ct)?(d=c,Ct++):(d=a,Pt(l));else u=a;if(u!==a){if(d=[],(p=nn())!==a)for(;p!==a;)d.push(p),p=nn();else d=a;d!==a?s=u=[u,d]:(Ct=s,s=a)}else Ct=s,s=a;for(;s!==a;){if(i.push(s),s=Ct,u=[],46===t.charCodeAt(Ct)?(d=c,Ct++):(d=a,Pt(l)),d!==a)for(;d!==a;)u.push(d),46===t.charCodeAt(Ct)?(d=c,Ct++):(d=a,Pt(l));else u=a;if(u!==a){if(d=[],(p=nn())!==a)for(;p!==a;)d.push(p),p=nn();else d=a;d!==a?s=u=[u,d]:(Ct=s,s=a)}else Ct=s,s=a}i!==a?n=r=[r,o,i]:(Ct=n,n=a)}else Ct=n,n=a}else Ct=n,n=a;return n!==a?t.substring(e,Ct):n}function on(){var e;return(e=function(){var e,n,r,o,i;return e=Ct,n=Ct,37===t.charCodeAt(Ct)?(r="%",Ct++):(r=a,Pt(xt)),r!==a&&(o=an())!==a&&(i=an())!==a?n=r=[r,o,i]:(Ct=n,n=a),n!==a?t.substring(e,Ct):n}())===a&&(e=function(){var e,n,r;return e=Ct,92===t.charCodeAt(Ct)?(n="\\",Ct++):(n=a,Pt(jt)),n!==a?(At.test(t.charAt(Ct))?(r=t.charAt(Ct),Ct++):(r=a,Pt(It)),r!==a?(St=e,e=n=r):(Ct=e,e=a)):(Ct=e,e=a),e}()),e}function an(){var e;return bt.test(t.charAt(Ct))?(e=t.charAt(Ct),Ct++):(e=a,Pt(wt)),e}var sn,cn,ln,un=n(8575).URL,dn={base:[],data:{},addBase:function(e){if(0===dn.base.length)return void dn.base.push(e);const t=dn.base[dn.base.length-1];t!==e&&dn.base.push(new un(e,t).toString())},addPrefix:function(e,t){const n=dn.data[e];void 0===n?dn.data[e]=[{uri:t,count:0}]:n[n.length-1].uri!==t&&n.push({uri:t,count:0})},hasPrefix:function(e){return void 0!==this.data[e]},resolve:function(e,t){const n=Object.keys(dn.data).find((t=>0===e.indexOf(t+":")));if(void 0!==n){const r=dn.data[n];if(1===r.length&&!0!==t)return e;const o=r[r.length-1].uri;return e.replace(n+":",o)}var o=0===dn.base.length?r.baseIRI:dn.base[dn.base.length-1];return!o||e.match(/^(http:|https:|urn:|file:)/)?e:0===e.indexOf("//")&&o?o.split("//")[0]+e:new un(e,o).toString()},increment:function(e){const t=dn.data[e];void 0!==t&&t[t.length-1].count++},decrement:function(e){const t=dn.data[e];void 0!==t&&t[t.length-1].count--},toJSON:function(){const e={};return dn.base.length>0&&(void 0===e["@context"]&&(e["@context"]={}),e["@context"]["@base"]=dn.base[0]),Object.keys(dn.data).forEach((t=>{const n=dn.data[t][0];"http://www.w3.org/2001/XMLSchema#"===n.uri&&n.count<1||(void 0===e["@context"]&&(e["@context"]={}),e["@context"][t]=n.uri)})),e}};function pn(e,t){if(void 0===e["@list"])return e;if(!t&&!e["@list"].find((e=>void 0!==e["@list"])))return e;if(0===e["@list"].length)return{"@id":"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"};var n={},r=null;return e["@list"].forEach((e=>{null===r?r=n:(r["http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"]={},r=r["http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"]),r["http://www.w3.org/1999/02/22-rdf-syntax-ns#first"]=pn(e,!0),r["http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"]={"@id":"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"}})),n}if((o=s())!==a&&Ct===t.length)return o;throw o!==a&&Ct<t.length&&Pt({type:"end"}),sn=Ot,cn=Lt<t.length?t.charAt(Lt):null,ln=Lt<t.length?Rt(Lt,Lt+1):Rt(Lt,Lt),new e(e.buildMessage(sn,cn),sn,cn,ln)}}})?r.apply(t,[]):r)||(e.exports=o)},52333:(e,t,n)=>{const{prefixes:r}=n(40276),{queryComunica:o}=n(4804);async function a(e,t){const n=r+"\n    SELECT ?item WHERE {\n      ?s ldp:contains ?item .\n    }";return"string"==typeof e&&(e=[e]),(await o(n,e,null,t)).results.bindings.map((e=>e.item.value))}async function i(e,t,n){try{var r={method:"PATCH",headers:{"Content-Type":"application/sparql-update"},body:e,redirect:"follow"};let o;return void(o=await n.fetch(t,r))}catch(e){throw console.log("error",e),e}}async function s(e,t){try{return void await t.fetch(e,{method:"DELETE"})}catch(e){console.log("error",e)}}e.exports={getLbdlocation:async function(e,t){try{const n=r+`select ?loc where {<${e}> lbd:hasProjectRegistry ?loc}`;return(await o(n,[e],null,t)).results.bindings[0].loc.value}catch(e){return}},getLbdlocations:async function(e,t){const n=r+"select ?st ?loc where {?st lbd:hasProjectRegistry ?loc}";return(await o(n,e,null,t)).results.bindings.map((e=>({stakeholder:e.st.value,location:e.loc.value})))},createLbdLocation:async function(e,t){try{const n=e.replace("/profile/card#me","/lbd/"),o=r+`INSERT DATA {\n      <${e}> lbd:hasProjectRegistry <${n}> .\n    }`;return await i(o,e,t),n}catch(e){throw console.log("error",e),e}},getLdpMembers:a,update:i,createContainer:async function(e,t){try{e.endsWith("/")||(e=e.concat("/"));const n={method:"PUT",headers:{"Content-Type":"text/turtle"},redirect:"follow"};return void await t.fetch(e,n)}catch(e){throw e.message=`Unable to create container - ${e.message}`,e}},uploadResource:async function(e,t,n,r){try{if(!n.overwrite&&await async function(e,t){try{const n={method:"HEAD"};return 200===(await t.fetch(e,n)).status}catch(t){throw t.message=`Could not check existence of graph ${e} - ${t.message}`,t}}(e,r))throw new Error("Resource already exists");let a;console.log("options",n),n.mimeType?a=n.mimeType:(a=mime.lookup(e),!1===a&&(a="text/plain"));var o={method:"PUT",headers:{"Content-Type":a},body:t,redirect:"follow"};let i;return void(i=await r.fetch(e,o))}catch(e){throw console.log("error",e),e.message=`Unable to upload resource - ${e.message}`,e}},deleteResource:s,deleteContainer:async function(e,t){const n=await a(e,t);for(const e of n)await s(e,t);await s(e,t)},getAccessRightsAsk:async function(e,t,n,r){const o=[];for(const e of n)acl.boolean&&o.push(e);return o}}},7597:(e,t,n)=>{const{getSatellite:r,queryComunica:o}=n(4804),{parse:a}=n(16913),i=n(36805),{getLdpMembers:s}=n(11625);e.exports={getDataset:async function(e,t,n){try{const r={};n&&n.headers&&(r.headers=n.headers);const o=await t.fetch(e,{method:"GET"}).then((e=>e.text())),s=a(o),c={dc:"http://purl.org/dc/terms/",dcat:"http://www.w3.org/ns/dcat#"},l=await i.compact(s,c);return l.active=!1,l["text/turtle"]=o,l}catch(e){console.log("error",e)}},createDataset:async function(e,t,n,o){try{const n=await r(o.info.webId,o),a={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)},i=await o.fetch(`${n}/${e}/dataset`,a).then((e=>e.text()));return console.log("data",i),i}catch(e){throw console.log("error creating dataset",e),e}},deleteDataset:async function(e,t,n,o){try{const n=await r(o.info.webId,o);return await o.fetch(`${n}/${e}/dataset?dataset=${t}`,{method:"DELETE"}),data}catch(e){throw console.log("error deleting dataset",e),e}},getDatasetsOfPartial:async function(e,t){const n=await o("select ?i where {?p <https://lbdserver.org/vocabulary#datasetRegistry> ?i}",[e],{results:!0,single:!0,variable:"i"},t),r=await s(n,t),a=[];for(const e of r)try{const n=await o("select ?i where {?p <http://purl.org/dc/terms/title> ?i}",[e],{results:!0,single:!0,variable:"i"},t);a.push({url:e,title:n})}catch(e){console.log("error",e)}return a}}},62599:(e,t,n)=>{const{getSatellite:r,queryComunica:o}=n(4804);e.exports={getDistribution:async function(e,t){return await t.fetch(e).then((e=>["application/json","application/ld+json"].includes(e.headers["Content-Type"])?e.json():e.text()))},createDistribution:async function(e,t,n,o,a){try{const o=await r(a.info.webId,a),i={method:"POST",body:n},s=await fetch(`${o}/${e}/distribution?dataset=${t}`,i).then((e=>e.text()));return console.log("res",s),s}catch(e){throw console.log("error creating dataset",e),e}},deleteDistribution:async function(e,t,n,o,a){try{const o=await r(a.info.webId,a);return await a.fetch(`${o}/${e}/distribution?dataset=${n}&distribution=${t}`,{method:"DELETE"}),data}catch(e){throw console.log("error deleting dataset",e),e}},getDistributionsByMediaType:async function(e,t,n){try{const r=[];for(const a of t){const t=`prefix dcat: <http://www.w3.org/ns/dcat#>\n      SELECT ?dataset ?url WHERE {\n        ?dataset dcat:distribution ?dist .\n        ?dist <http://purl.org/dc/terms/format> <https://www.iana.org/assignments/media-types/${a}> ;\n          dcat:accessURL ?url .\n      }`,i=await o(t,e,{results:!0},n);i&&i.forEach((e=>r.push({dataset:e.dataset.value,url:e.url.value})))}return r}catch(e){console.log("error",e)}}}},35733:(e,t,n)=>{const{createProject:r,getProjects:o,getProject:a,getProjectAccessPoint:i,getProjectMembers:s,deleteProject:c}=n(59723),{getLdpMembers:l}=n(11625),{findReferenceEndpoints:u}=n(55526),{createDataset:d,getDataset:p,getDatasetsOfPartial:f}=n(7597),{createDistribution:h,getDistributionsByMediaType:g}=n(62599),{getSatellite:v,queryComunica:y}=n(4804);e.exports={createProject:r,getProjects:o,getProject:a,getProjectAccessPoint:i,getProjectMembers:s,deleteProject:c,queryComunica:y,getSatellite:v,createDistribution:h,createDataset:d,getDataset:p,getLdpMembers:l,findReferenceEndpoints:u,getDatasetsOfPartial:f,getDistributionsByMediaType:g}},59723:(e,t,n)=>{const{queryComunica:r,getSatellite:o}=n(4804),{getLbdlocation:a,getLdpMembers:i}=n(52333),{prefixes:s}=n(40276);async function c(e,t){const n=s+"SELECT * WHERE {\n        ?proj lbd:hasProjectId ?id ;\n            lbd:referenceRegistry ?ref ;\n            lbd:datasetRegistry ?ds ;\n            lbd:distributionRepository ?dist ;\n            lbd:services ?serv ;\n            lbd:members ?members .\n        }",o=await r(n,[e],{},t);if(o&&o.results.bindings.length>0){const e=o.results.bindings[0],n=s+"SELECT ?aURL WHERE {?s dcat:accessURL ?aURL}",a=s+"SELECT ?dURL WHERE {?s dcat:downloadURL ?dURL}",i=await r(n,[e.ref.value],{},t),c=await r(a,[e.ref.value],{},t);let l,u;return i.results.bindings.length>0&&(u=i.results.bindings[0].aURL.value),c.results.bindings.length>0&&(l=c.results.bindings[0].dURL.value),{proj:e.proj.value,id:e.id.value,ref:{index:e.ref.value,downloadURL:l,accessURL:u},ds:e.ds.value,dist:e.dist.value,members:e.members.value,services:e.serv.value}}throw new Error("could not find required information")}async function l(e,t){const n=s+"\n    SELECT ?st WHERE {\n      ?s vcard:hasMember ?st .\n    }",o=await r(n,[e],{},t);return(await o.results.bindings).map((e=>e.st.value))}e.exports={createProject:async function(e,t,n,r){try{const n=t.filter((e=>e.length>0)),a=await o(r.info.webId,r),i={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({stakeholders:n})};return await r.fetch(`${a}/${e}`,i)}catch(e){console.log("error",e)}},getProjects:async function(e,t){const n=await a(e,t);console.log("lbdLocation",n);const r=await i([`${n}`],t);console.log("p",r);const o=[];for(const e of r){const n=await t.fetch(e,{headers:{accept:"application/ld+json"}}).then((e=>e.json()));o.push(n)}return r},getProject:async function(e,t,n){try{let r;n.owner||(r=t.info.webId),console.log("session.info.webId",t.info.webId);const o=await a(r,t)+e+"/",s=await c(o,t),u=await l(s.members,t),d={};for(const n of u)try{const r=await a(n,t)+e+"/",o=await c(r,t),s=await i([o.ds],t);o.ds={registry:o.ds,datasets:s},console.log("projectInfo",o),d[n]=o}catch(e){console.log(`error, for member ${n}: `,e,n)}return console.log("data",d),d}catch(e){throw console.log("error",e),e}},getProjectAccessPoint:c,getProjectMembers:l,deleteProject:async function(e,t){const n=await o(t);return await t.fetch(n+"/"+e,{method:"DELETE"})}}},4804:(e,t,n)=>{const r=n(7265).newEngine,o=n(66042).Buffer;async function a(e,t,n,a){try{const i=r();"string"==typeof t&&(t=[t]);const s=[];for(const e of t)200==(await a.fetch(e,{method:"HEAD"})).status&&s.push(e);if(s.length>0){const t=await i.query(e,{sources:s,fetch:a.fetch}),{data:r}=await i.resultToString(t,"application/sparql-results+json");if(i.invalidateHttpCache(),n&&n.asStream)return r;{const e=await function(e){const t=[];return new Promise(((n,r)=>{e.on("data",(e=>t.push(o.from(e)))),e.on("error",(e=>r(e))),e.on("end",(()=>{n(JSON.parse(o.concat(t).toString("utf8")))}))}))}(r);if(n&&n.results){if(!n.single)return e.results.bindings;if(n.variable)return e.results.bindings[0][n.variable].value}return e}}return}catch(e){console.log("error",e)}}e.exports={queryComunica:a,getSatellite:async function(e,t){const n=`select ?sat where {<${e}> <https://lbdserver.org/vocabulary#satellite> ?sat}`;return(await a(n,[e],{},t)).results.bindings[0].sat.value}}},55526:(e,t,n)=>{const{getLdpMembers:r}=n(11625),{queryComunica:o}=n(4804);e.exports={findReferenceEndpoints:async function(e,t){const n=[];for(const r of e)try{const e=await o("select ?i where {?p <https://lbdserver.org/vocabulary#satellite> ?i}",[r],{results:!0,single:!0,variable:"i"},t);n.push(e)}catch(e){console.log("error",e)}return n}}},71352:(e,t,n)=>{const{prefixes:r}=n(40276),{queryComunica:o}=n(4804);e.exports={getLbdlocation:async function(e,t){try{const n=r+`select ?loc where {<${e}> lbd:hasProjectRegistry ?loc}`;return(await o(n,[e],null,t)).results.bindings[0].loc.value}catch(e){return}},getLbdlocations:async function(e,t){const n=r+"select ?st ?loc where {?st lbd:hasProjectRegistry ?loc}";return(await o(n,e,null,t)).results.bindings.map((e=>({stakeholder:e.st.value,location:e.loc.value})))},createLbdLocation:async function(e,t){try{const n=e.replace("/profile/card#me","/lbd/"),o=r+`INSERT DATA {\n        <${e}> lbd:hasProjectRegistry <${n}> .\n      }`;return await update(o,e,t),n}catch(e){throw console.log("error",e),e}},getSatellite:async function(e,t){const n=`select ?sat where {<${e}> <https://lbdserver.org/vocabulary#hasSatellite> ?sat}`;return(await o(n,[e],{},t)).results.bindings[0].sat.value},getProjectAccessPoint:async function(e,t,n){const a=r+"SELECT * WHERE {\n      ?proj lbd:hasProjectId ?id ;\n          lbd:referenceRegistry ?ref ;\n          lbd:datasetRegistry ?ds ;\n          lbd:services ?serv ;\n          lbd:satellite ?sat .\n      }",i=await o(a,[e],{},n);if(i&&i.results.bindings.length>0){const e=i.results.bindings[0],a=r+"SELECT ?aURL WHERE {?s dcat:accessURL ?aURL}",s=r+"SELECT ?dURL WHERE {?s dcat:downloadURL ?dURL}",c=await o(a,[e.ref.value],{},n),l=await o(s,[e.ref.value],{},n);let u,d;return c.results.bindings.length>0&&(d=c.results.bindings[0].aURL.value),l.results.bindings.length>0&&(u=l.results.bindings[0].dURL.value),{accessPoint:e.proj.value,owner:t,id:e.id.value,satellite:e.sat.value,references:e.ref.value,datasets:e.ds.value,services:e.serv.value}}throw new Error("could not find required information")}}},11625:(e,t,n)=>{const{getLbdlocation:r,getLbdlocations:o,createLbdLocation:a}=n(71352),{getLdpMembers:i,update:s,createContainer:c,uploadResource:l,deleteResource:u,deleteContainer:d}=n(20313);e.exports={getLbdlocation:r,getLbdlocations:o,createLbdLocation:a,getLdpMembers:i,update:s,createContainer:c,uploadResource:l,deleteResource:u,deleteContainer:d}},20313:(e,t,n)=>{const{prefixes:r}=n(40276),{queryComunica:o}=n(4804);async function a(e,t){const n=r+"\n    SELECT ?item WHERE {\n      ?s ldp:contains ?item .\n    }";"string"==typeof e&&(e=[e]);const a=await o(n,e,null,t);return a?a.results.bindings.map((e=>e.item.value)):[]}async function i(e,t){try{return void await t.fetch(e,{method:"DELETE"})}catch(e){console.log("error",e)}}e.exports={getLdpMembers:a,update:async function(e,t,n){try{var r={method:"PATCH",headers:{"Content-Type":"application/sparql-update"},body:e,redirect:"follow"};let o;return void(o=await n.fetch(t,r))}catch(e){throw console.log("error",e),e}},createContainer:async function(e,t){try{e.endsWith("/")||(e=e.concat("/"));const n={method:"PUT",headers:{"Content-Type":"text/turtle"},redirect:"follow"};return void await t.fetch(e,n)}catch(e){throw e.message=`Unable to create container - ${e.message}`,e}},uploadResource:async function(e,t,n,r){try{if(!n.overwrite&&await async function(e,t){try{const n={method:"HEAD"};return 200===(await t.fetch(e,n)).status}catch(t){throw t.message=`Could not check existence of graph ${e} - ${t.message}`,t}}(e,r))throw new Error("Resource already exists");let a;console.log("options",n),n.mimeType?a=n.mimeType:(a=mime.lookup(e),!1===a&&(a="text/plain"));var o={method:"PUT",headers:{"Content-Type":a},body:t,redirect:"follow"};let i;return void(i=await r.fetch(e,o))}catch(e){throw console.log("error",e),e.message=`Unable to upload resource - ${e.message}`,e}},deleteResource:i,deleteContainer:async function(e,t){const n=await a(e,t);for(const e of n)await i(e,t);await i(e,t)}}},40276:e=>{e.exports={prefixes:"\nprefix ldp: <http://www.w3.org/ns/ldp#> \nprefix lbd: <https://lbdserver.org/vocabulary#>\nprefix dcat: <http://www.w3.org/ns/dcat#>\nprefix dct: <http://purl.org/dc/terms/>\nprefix owl: <http://www.w3.org/2002/07/owl#> \nprefix vcard: <http://www.w3.org/2006/vcard/ns#> \n "}},68058:(e,t,n)=>{"use strict";const{isArray:r,isObject:o,isString:a}=n(30832),{asArray:i}=n(51055),{prependBase:s}=n(82278),c=n(54093),l=n(26767);function u(e){throw new c("Invalid JSON-LD syntax; @context must be an object.","jsonld.SyntaxError",{code:"invalid local context",context:e})}function d({context:e,base:t}){if(!e)return;const n=e["@context"];if(a(n))e["@context"]=s(t,n);else if(r(n))for(let e=0;e<n.length;++e){const r=n[e];a(r)?n[e]=s(t,r):o(r)&&d({context:{"@context":r},base:t})}else if(o(n))for(const e in n)d({context:n[e],base:t})}e.exports=class{constructor({sharedCache:e}){this.perOpCache=new Map,this.sharedCache=e}async resolve({activeCtx:e,context:t,documentLoader:n,base:s,cycles:c=new Set}){t&&o(t)&&t["@context"]&&(t=t["@context"]),t=i(t);const d=[];for(const i of t){if(a(i)){let t=this._get(i);t||(t=await this._resolveRemoteContext({activeCtx:e,url:i,documentLoader:n,base:s,cycles:c})),r(t)?d.push(...t):d.push(t);continue}if(null===i){d.push(new l({document:null}));continue}o(i)||u(t);const p=JSON.stringify(i);let f=this._get(p);f||(f=new l({document:i}),this._cacheResolvedContext({key:p,resolved:f,tag:"static"})),d.push(f)}return d}_get(e){let t=this.perOpCache.get(e);if(!t){const n=this.sharedCache.get(e);n&&(t=n.get("static"),t&&this.perOpCache.set(e,t))}return t}_cacheResolvedContext({key:e,resolved:t,tag:n}){if(this.perOpCache.set(e,t),void 0!==n){let r=this.sharedCache.get(e);r||(r=new Map,this.sharedCache.set(e,r)),r.set(n,t)}return t}async _resolveRemoteContext({activeCtx:e,url:t,documentLoader:n,base:r,cycles:o}){t=s(r,t);const{context:a,remoteDoc:i}=await this._fetchContext({activeCtx:e,url:t,documentLoader:n,cycles:o});d({context:a,base:r=i.documentUrl||t});const c=await this.resolve({activeCtx:e,context:a,documentLoader:n,base:r,cycles:o});return this._cacheResolvedContext({key:t,resolved:c,tag:i.tag}),c}async _fetchContext({activeCtx:e,url:t,documentLoader:n,cycles:i}){if(i.size>10)throw new c("Maximum number of @context URLs exceeded.","jsonld.ContextUrlError",{code:"json-ld-1.0"===e.processingMode?"loading remote context failed":"context overflow",max:10});if(i.has(t))throw new c("Cyclical @context URLs detected.","jsonld.ContextUrlError",{code:"json-ld-1.0"===e.processingMode?"recursive context inclusion":"context overflow",url:t});let s,l;i.add(t);try{l=await n(t),s=l.document||null,a(s)&&(s=JSON.parse(s))}catch(e){throw new c("Dereferencing a URL did not result in a valid JSON-LD object. Possible causes are an inaccessible URL perhaps due to a same-origin policy (ensure the server uses CORS if you are using client-side JavaScript), too many redirects, a non-JSON response, or more than one HTTP Link Header was provided for a remote context.","jsonld.InvalidUrl",{code:"loading remote context failed",url:t,cause:e})}if(!o(s))throw new c("Dereferencing a URL did not result in a JSON object. The response was valid JSON, but it was not a JSON object.","jsonld.InvalidUrl",{code:"invalid remote context",url:t});return s="@context"in s?{"@context":s["@context"]}:{"@context":{}},l.contextUrl&&(r(s["@context"])||(s["@context"]=[s["@context"]]),s["@context"].push(l.contextUrl)),{context:s,remoteDoc:l}}}},54093:e=>{"use strict";e.exports=class extends Error{constructor(e="An unspecified JSON-LD error occurred.",t="jsonld.Error",n={}){super(e),this.name=t,this.message=e,this.details=n}}},60731:e=>{"use strict";e.exports=e=>{class t{toString(){return"[object JsonLdProcessor]"}}return Object.defineProperty(t,"prototype",{writable:!1,enumerable:!1}),Object.defineProperty(t.prototype,"constructor",{writable:!0,enumerable:!1,configurable:!0,value:t}),t.compact=function(t,n){return arguments.length<2?Promise.reject(new TypeError("Could not compact, too few arguments.")):e.compact(t,n)},t.expand=function(t){return arguments.length<1?Promise.reject(new TypeError("Could not expand, too few arguments.")):e.expand(t)},t.flatten=function(t){return arguments.length<1?Promise.reject(new TypeError("Could not flatten, too few arguments.")):e.flatten(t)},t}},69048:(e,t,n)=>{"use strict";e.exports=n(47055).NQuads},40533:e=>{"use strict";e.exports=class{constructor(){this._requests={}}wrapLoader(e){const t=this;return t._loader=e,function(){return t.add.apply(t,arguments)}}async add(e){let t=this._requests[e];if(t)return Promise.resolve(t);t=this._requests[e]=this._loader(e);try{return await t}finally{delete this._requests[e]}}}},26767:(e,t,n)=>{"use strict";const r=n(39593);e.exports=class{constructor({document:e}){this.document=e,this.cache=new r({max:10})}getProcessed(e){return this.cache.get(e)}setProcessed(e,t){this.cache.set(e,t)}}},83251:(e,t,n)=>{"use strict";const r=n(54093),{isArray:o,isObject:a,isString:i,isUndefined:s}=n(30832),{isList:c,isValue:l,isGraph:u,isSimpleGraph:d,isSubjectReference:p}=n(18463),{expandIri:f,getContextValue:h,isKeyword:g,process:v,processingMode:y}=n(54131),{removeBase:m,prependBase:x}=n(82278),{addValue:b,asArray:w,compareShortestLeast:j}=n(51055),A={};function I(e,t,n){if("@nest"!==f(e,t,{vocab:!0},n))throw new r("JSON-LD compact error; nested property must have an @nest value resolving to @nest.","jsonld.SyntaxError",{code:"invalid @nest value"})}e.exports=A,A.compact=async({activeCtx:e,activeProperty:t=null,element:n,options:f={},compactionMap:m=(()=>{})})=>{if(o(n)){let r=[];for(let o=0;o<n.length;++o){let a=await A.compact({activeCtx:e,activeProperty:t,element:n[o],options:f,compactionMap:m});null===a&&(a=await m({unmappedValue:n[o],activeCtx:e,activeProperty:t,parent:n,index:o,options:f}),void 0===a)||r.push(a)}return f.compactArrays&&1===r.length&&0===(h(e,t,"@container")||[]).length&&(r=r[0]),r}const x=h(e,t,"@context");if(s(x)||(e=await v({activeCtx:e,localCtx:x,propagate:!0,overrideProtected:!0,options:f})),a(n)){if(f.link&&"@id"in n&&f.link.hasOwnProperty(n["@id"])){const e=f.link[n["@id"]];for(let t=0;t<e.length;++t)if(e[t].expanded===n)return e[t].compacted}if(l(n)||p(n)){const r=A.compactValue({activeCtx:e,activeProperty:t,value:n,options:f});return f.link&&p(n)&&(f.link.hasOwnProperty(n["@id"])||(f.link[n["@id"]]=[]),f.link[n["@id"]].push({expanded:n,compacted:r})),r}if(c(n)&&(h(e,t,"@container")||[]).includes("@list"))return A.compact({activeCtx:e,activeProperty:t,element:n["@list"],options:f,compactionMap:m});const x="@reverse"===t,j={},C=e;l(n)||p(n)||(e=e.revertToPreviousContext());const S=h(C,t,"@context");s(S)||(e=await v({activeCtx:e,localCtx:S,propagate:!0,overrideProtected:!0,options:f})),f.link&&"@id"in n&&(f.link.hasOwnProperty(n["@id"])||(f.link[n["@id"]]=[]),f.link[n["@id"]].push({expanded:n,compacted:j}));let N=n["@type"]||[];N.length>1&&(N=Array.from(N).sort());const L=e;for(const t of N){const n=A.compactIri({activeCtx:L,iri:t,relativeTo:{vocab:!0}}),r=h(C,n,"@context");s(r)||(e=await v({activeCtx:e,localCtx:r,options:f,propagate:!1}))}const O=Object.keys(n).sort();for(const s of O){const p=n[s];if("@id"!==s)if("@type"!==s)if("@reverse"!==s)if("@preserve"!==s)if("@index"!==s)if("@graph"!==s&&"@list"!==s&&"@included"!==s&&g(s)){const t=A.compactIri({activeCtx:e,iri:s,relativeTo:{vocab:!0}});b(j,t,p)}else{if(!o(p))throw new r("JSON-LD expansion error; expanded value must be an array.","jsonld.SyntaxError");if(0===p.length){const t=A.compactIri({activeCtx:e,iri:s,value:p,relativeTo:{vocab:!0},reverse:x}),n=e.mappings.has(t)?e.mappings.get(t)["@nest"]:null;let r=j;n&&(I(e,n,f),a(j[n])||(j[n]={}),r=j[n]),b(r,t,p,{propertyIsArray:!0})}for(const t of p){const n=A.compactIri({activeCtx:e,iri:s,value:t,relativeTo:{vocab:!0},reverse:x}),r=e.mappings.has(n)?e.mappings.get(n)["@nest"]:null;let p=j;r&&(I(e,r,f),a(j[r])||(j[r]={}),p=j[r]);const g=h(e,n,"@container")||[],v=u(t),y=c(t);let C;y?C=t["@list"]:v&&(C=t["@graph"]);let S=await A.compact({activeCtx:e,activeProperty:n,element:y||v?C:t,options:f,compactionMap:m});if(y){if(o(S)||(S=[S]),g.includes("@list")){b(p,n,S,{valueIsArray:!0,allowDuplicate:!0});continue}S={[A.compactIri({activeCtx:e,iri:"@list",relativeTo:{vocab:!0}})]:S},"@index"in t&&(S[A.compactIri({activeCtx:e,iri:"@index",relativeTo:{vocab:!0}})]=t["@index"])}if(v)if(g.includes("@graph")&&(g.includes("@id")||g.includes("@index")&&d(t))){let r;p.hasOwnProperty(n)?r=p[n]:p[n]=r={};const o=(g.includes("@id")?t["@id"]:t["@index"])||A.compactIri({activeCtx:e,iri:"@none",relativeTo:{vocab:!0}});b(r,o,S,{propertyIsArray:!f.compactArrays||g.includes("@set")})}else g.includes("@graph")&&d(t)?(o(S)&&S.length>1&&(S={"@included":S}),b(p,n,S,{propertyIsArray:!f.compactArrays||g.includes("@set")})):(o(S)&&1===S.length&&f.compactArrays&&(S=S[0]),S={[A.compactIri({activeCtx:e,iri:"@graph",relativeTo:{vocab:!0}})]:S},"@id"in t&&(S[A.compactIri({activeCtx:e,iri:"@id",relativeTo:{vocab:!0}})]=t["@id"]),"@index"in t&&(S[A.compactIri({activeCtx:e,iri:"@index",relativeTo:{vocab:!0}})]=t["@index"]),b(p,n,S,{propertyIsArray:!f.compactArrays||g.includes("@set")}));else if(g.includes("@language")||g.includes("@index")||g.includes("@id")||g.includes("@type")){let r,o;if(p.hasOwnProperty(n)?r=p[n]:p[n]=r={},g.includes("@language"))l(S)&&(S=S["@value"]),o=t["@language"];else if(g.includes("@index")){const r=h(e,n,"@index")||"@index",a=A.compactIri({activeCtx:e,iri:r,relativeTo:{vocab:!0}});if("@index"===r)o=t["@index"],delete S[a];else{let e;if([o,...e]=w(S[r]||[]),i(o))switch(e.length){case 0:delete S[r];break;case 1:S[r]=e[0];break;default:S[r]=e}else o=null}}else if(g.includes("@id")){const t=A.compactIri({activeCtx:e,iri:"@id",relativeTo:{vocab:!0}});o=S[t],delete S[t]}else if(g.includes("@type")){const r=A.compactIri({activeCtx:e,iri:"@type",relativeTo:{vocab:!0}});let a;switch([o,...a]=w(S[r]||[]),a.length){case 0:delete S[r];break;case 1:S[r]=a[0];break;default:S[r]=a}1===Object.keys(S).length&&"@id"in t&&(S=await A.compact({activeCtx:e,activeProperty:n,element:{"@id":t["@id"]},options:f,compactionMap:m}))}o||(o=A.compactIri({activeCtx:e,iri:"@none",relativeTo:{vocab:!0}})),b(r,o,S,{propertyIsArray:g.includes("@set")})}else{const e=!f.compactArrays||g.includes("@set")||g.includes("@list")||o(S)&&0===S.length||"@list"===s||"@graph"===s;b(p,n,S,{propertyIsArray:e})}}}else{if((h(e,t,"@container")||[]).includes("@index"))continue;const n=A.compactIri({activeCtx:e,iri:s,relativeTo:{vocab:!0}});b(j,n,p)}else{const n=await A.compact({activeCtx:e,activeProperty:t,element:p,options:f,compactionMap:m});o(n)&&0===n.length||b(j,s,n)}else{const t=await A.compact({activeCtx:e,activeProperty:"@reverse",element:p,options:f,compactionMap:m});for(const n in t)if(e.mappings.has(n)&&e.mappings.get(n).reverse){const r=t[n],o=(h(e,n,"@container")||[]).includes("@set")||!f.compactArrays;b(j,n,r,{propertyIsArray:o}),delete t[n]}if(Object.keys(t).length>0){const n=A.compactIri({activeCtx:e,iri:s,relativeTo:{vocab:!0}});b(j,n,t)}}else{let t=w(p).map((e=>A.compactIri({activeCtx:C,iri:e,relativeTo:{vocab:!0}})));1===t.length&&(t=t[0]);const n=A.compactIri({activeCtx:e,iri:"@type",relativeTo:{vocab:!0}}),r=(h(e,n,"@container")||[]).includes("@set")&&y(e,1.1)||o(t)&&0===p.length;b(j,n,t,{propertyIsArray:r})}else{let t=w(p).map((t=>A.compactIri({activeCtx:e,iri:t,relativeTo:{vocab:!1},base:f.base})));1===t.length&&(t=t[0]),j[A.compactIri({activeCtx:e,iri:"@id",relativeTo:{vocab:!0}})]=t}}return j}return n},A.compactIri=({activeCtx:e,iri:t,value:n=null,relativeTo:o={vocab:!1},reverse:i=!1,base:s=null})=>{if(null===t)return t;e.isPropertyTermScoped&&e.previousContext&&(e=e.previousContext);const d=e.getInverse();if(g(t)&&t in d&&"@none"in d[t]&&"@type"in d[t]["@none"]&&"@none"in d[t]["@none"]["@type"])return d[t]["@none"]["@type"]["@none"];if(o.vocab&&t in d){const r=e["@language"]||"@none",o=[];a(n)&&"@index"in n&&!("@graph"in n)&&o.push("@index","@index@set"),a(n)&&"@preserve"in n&&(n=n["@preserve"][0]),u(n)?("@index"in n&&o.push("@graph@index","@graph@index@set","@index","@index@set"),"@id"in n&&o.push("@graph@id","@graph@id@set"),o.push("@graph","@graph@set","@set"),"@index"in n||o.push("@graph@index","@graph@index@set","@index","@index@set"),"@id"in n||o.push("@graph@id","@graph@id@set")):a(n)&&!l(n)&&o.push("@id","@id@set","@type","@set@type");let s="@language",d="@null";if(i)s="@type",d="@reverse",o.push("@set");else if(c(n)){"@index"in n||o.push("@list");const e=n["@list"];if(0===e.length)s="@any",d="@none";else{let t=0===e.length?r:null,n=null;for(let r=0;r<e.length;++r){const o=e[r];let a="@none",i="@none";if(l(o)?"@direction"in o?a=`${(o["@language"]||"").toLowerCase()}_${o["@direction"]}`:"@language"in o?a=o["@language"].toLowerCase():"@type"in o?i=o["@type"]:a="@null":i="@id",null===t?t=a:a!==t&&l(o)&&(t="@none"),null===n?n=i:i!==n&&(n="@none"),"@none"===t&&"@none"===n)break}t=t||"@none",n=n||"@none","@none"!==n?(s="@type",d=n):d=t}}else{if(l(n))if("@language"in n&&!("@index"in n)){o.push("@language","@language@set"),d=n["@language"];const e=n["@direction"];e&&(d=`${d}_${e}`)}else"@direction"in n&&!("@index"in n)?d=`_${n["@direction"]}`:"@type"in n&&(s="@type",d=n["@type"]);else s="@type",d="@id";o.push("@set")}o.push("@none"),a(n)&&!("@index"in n)&&o.push("@index","@index@set"),l(n)&&1===Object.keys(n).length&&o.push("@language","@language@set");const p=function(e,t,n,r,o,i){null===i&&(i="@null");const s=[];if(("@id"===i||"@reverse"===i)&&a(n)&&"@id"in n){"@reverse"===i&&s.push("@reverse");const t=A.compactIri({activeCtx:e,iri:n["@id"],relativeTo:{vocab:!0}});e.mappings.has(t)&&e.mappings.get(t)&&e.mappings.get(t)["@id"]===n["@id"]?s.push.apply(s,["@vocab","@id"]):s.push.apply(s,["@id","@vocab"])}else{s.push(i);const e=s.find((e=>e.includes("_")));e&&s.push(e.replace(/^[^_]+_/,"_"))}s.push("@none");const c=e.inverse[t];for(const e of r){if(!(e in c))continue;const t=c[e][o];for(const e of s)if(e in t)return t[e]}return null}(e,t,n,o,s,d);if(null!==p)return p}if(o.vocab&&"@vocab"in e){const n=e["@vocab"];if(0===t.indexOf(n)&&t!==n){const r=t.substr(n.length);if(!e.mappings.has(r))return r}}let p=null;const f=[];let h=e.fastCurieMap;const v=t.length-1;for(let e=0;e<v&&t[e]in h;++e)h=h[t[e]],""in h&&f.push(h[""][0]);for(let r=f.length-1;r>=0;--r){const o=f[r],a=o.terms;for(const r of a){const a=r+":"+t.substr(o.iri.length);e.mappings.get(r)._prefix&&(!e.mappings.has(a)||null===n&&e.mappings.get(a)["@id"]===t)&&(null===p||j(a,p)<0)&&(p=a)}}if(null!==p)return p;for(const[n,o]of e.mappings)if(o&&o._prefix&&t.startsWith(n+":"))throw new r(`Absolute IRI "${t}" confused with prefix "${n}".`,"jsonld.SyntaxError",{code:"IRI confused with prefix",context:e});return o.vocab?t:"@base"in e?e["@base"]?m(x(s,e["@base"]),t):t:m(s,t)},A.compactValue=({activeCtx:e,activeProperty:t,value:n,options:r})=>{if(l(n)){const r=h(e,t,"@type"),o=h(e,t,"@language"),a=h(e,t,"@direction"),s=h(e,t,"@container")||[],c="@index"in n&&!s.includes("@index");if(!c&&"@none"!==r){if(n["@type"]===r)return n["@value"];if("@language"in n&&n["@language"]===o&&"@direction"in n&&n["@direction"]===a)return n["@value"];if("@language"in n&&n["@language"]===o)return n["@value"];if("@direction"in n&&n["@direction"]===a)return n["@value"]}const l=Object.keys(n).length,u=1===l||2===l&&"@index"in n&&!c,d="@language"in e,p=i(n["@value"]),f=e.mappings.has(t)&&null===e.mappings.get(t)["@language"];if(u&&"@none"!==r&&(!d||!p||f))return n["@value"];const g={};return c&&(g[A.compactIri({activeCtx:e,iri:"@index",relativeTo:{vocab:!0}})]=n["@index"]),"@type"in n?g[A.compactIri({activeCtx:e,iri:"@type",relativeTo:{vocab:!0}})]=A.compactIri({activeCtx:e,iri:n["@type"],relativeTo:{vocab:!0}}):"@language"in n&&(g[A.compactIri({activeCtx:e,iri:"@language",relativeTo:{vocab:!0}})]=n["@language"]),"@direction"in n&&(g[A.compactIri({activeCtx:e,iri:"@direction",relativeTo:{vocab:!0}})]=n["@direction"]),g[A.compactIri({activeCtx:e,iri:"@value",relativeTo:{vocab:!0}})]=n["@value"],g}const o=f(e,t,{vocab:!0},r),a=h(e,t,"@type"),s=A.compactIri({activeCtx:e,iri:n["@id"],relativeTo:{vocab:"@vocab"===a},base:r.base});return"@id"===a||"@vocab"===a||"@graph"===o?s:{[A.compactIri({activeCtx:e,iri:"@id",relativeTo:{vocab:!0}})]:s}}},93770:e=>{"use strict";const t="http://www.w3.org/1999/02/22-rdf-syntax-ns#",n="http://www.w3.org/2001/XMLSchema#";e.exports={LINK_HEADER_REL:"http://www.w3.org/ns/json-ld#context",LINK_HEADER_CONTEXT:"http://www.w3.org/ns/json-ld#context",RDF:t,RDF_LIST:t+"List",RDF_FIRST:t+"first",RDF_REST:t+"rest",RDF_NIL:t+"nil",RDF_TYPE:t+"type",RDF_PLAIN_LITERAL:t+"PlainLiteral",RDF_XML_LITERAL:t+"XMLLiteral",RDF_JSON_LITERAL:t+"JSON",RDF_OBJECT:t+"object",RDF_LANGSTRING:t+"langString",XSD:n,XSD_BOOLEAN:n+"boolean",XSD_DOUBLE:n+"double",XSD_INTEGER:n+"integer",XSD_STRING:n+"string"}},54131:(e,t,n)=>{"use strict";const r=n(51055),o=n(54093),{isArray:a,isObject:i,isString:s,isUndefined:c}=n(30832),{isAbsolute:l,isRelative:u,prependBase:d}=n(82278),{asArray:p,compareShortestLeast:f}=n(51055),h=new Map,g=/^@[a-zA-Z]+$/,v={};function y(e,t,n,r,o,a){if(null===t||!s(t)||v.isKeyword(t))return t;if(t.match(g))return null;if(r&&r.hasOwnProperty(t)&&!0!==o.get(t)&&v.createTermDefinition({activeCtx:e,localCtx:r,term:t,defined:o,options:a}),(n=n||{}).vocab){const n=e.mappings.get(t);if(null===n)return null;if(i(n)&&"@id"in n)return n["@id"]}const c=t.indexOf(":");if(c>0){const n=t.substr(0,c),i=t.substr(c+1);if("_"===n||0===i.indexOf("//"))return t;r&&r.hasOwnProperty(n)&&v.createTermDefinition({activeCtx:e,localCtx:r,term:n,defined:o,options:a});const s=e.mappings.get(n);if(s&&s._prefix)return s["@id"]+i;if(l(t))return t}if(n.vocab&&"@vocab"in e)return e["@vocab"]+t;if(n.base&&"@base"in e){if(e["@base"])return d(d(a.base,e["@base"]),t)}else if(n.base)return d(a.base,t);return t}function m(e,t){if(!e||"object"!=typeof e||!t||"object"!=typeof t)return e===t;const n=Array.isArray(e);if(n!==Array.isArray(t))return!1;if(n){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!m(e[n],t[n]))return!1;return!0}const r=Object.keys(e),o=Object.keys(t);if(r.length!==o.length)return!1;for(const n in e){let r=e[n],o=t[n];if("@container"===n&&Array.isArray(r)&&Array.isArray(o)&&(r=r.slice().sort(),o=o.slice().sort()),!m(r,o))return!1}return!0}e.exports=v,v.process=async({activeCtx:e,localCtx:t,options:n,propagate:c=!0,overrideProtected:f=!1,cycles:h=new Set})=>{if(i(t)&&"@context"in t&&a(t["@context"])&&(t=t["@context"]),0===p(t).length)return e;const g=await n.contextResolver.resolve({activeCtx:e,context:t,documentLoader:n.documentLoader,base:n.base});i(g[0].document)&&"boolean"==typeof g[0].document["@propagate"]&&(c=g[0].document["@propagate"]);let m=e;c||m.previousContext||(m=m.clone(),m.previousContext=e);for(const a of g){let{document:c}=a;if(e=m,null===c){if(!f&&0!==Object.keys(e.protected).length){const i=n&&n.protectedMode||"error";if("error"===i)throw new o("Tried to nullify a context with protected terms outside of a term definition.","jsonld.SyntaxError",{code:"invalid context nullification"});if("warn"===i){console.warn("WARNING: invalid context nullification");const t=a.getProcessed(e);if(t){m=e=t;continue}const o=e;m=e=v.getInitialContext(n).clone();for(const[t,n]of Object.entries(o.protected))n&&(e.mappings[t]=r.clone(o.mappings[t]));e.protected=r.clone(o.protected),a.setProcessed(o,m);continue}throw new o("Invalid protectedMode.","jsonld.SyntaxError",{code:"invalid protected mode",context:t,protectedMode:i})}m=e=v.getInitialContext(n).clone();continue}const p=a.getProcessed(e);if(p){m=e=p;continue}if(i(c)&&"@context"in c&&(c=c["@context"]),!i(c))throw new o("Invalid JSON-LD syntax; @context must be an object.","jsonld.SyntaxError",{code:"invalid local context",context:c});m=m.clone();const g=new Map;if("@version"in c){if(1.1!==c["@version"])throw new o("Unsupported JSON-LD version: "+c["@version"],"jsonld.UnsupportedVersion",{code:"invalid @version value",context:c});if(e.processingMode&&"json-ld-1.0"===e.processingMode)throw new o("@version: "+c["@version"]+" not compatible with "+e.processingMode,"jsonld.ProcessingModeConflict",{code:"processing mode conflict",context:c});m.processingMode="json-ld-1.1",m["@version"]=c["@version"],g.set("@version",!0)}if(m.processingMode=m.processingMode||e.processingMode,"@base"in c){let e=c["@base"];if(null===e||l(e));else{if(!u(e))throw new o('Invalid JSON-LD syntax; the value of "@base" in a @context must be an absolute IRI, a relative IRI, or null.',"jsonld.SyntaxError",{code:"invalid base IRI",context:c});e=d(m["@base"],e)}m["@base"]=e,g.set("@base",!0)}if("@vocab"in c){const e=c["@vocab"];if(null===e)delete m["@vocab"];else{if(!s(e))throw new o('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:c});if(!l(e)&&v.processingMode(m,1))throw new o('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be an absolute IRI.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:c});m["@vocab"]=y(m,e,{vocab:!0,base:!0},void 0,void 0,n)}g.set("@vocab",!0)}if("@language"in c){const e=c["@language"];if(null===e)delete m["@language"];else{if(!s(e))throw new o('Invalid JSON-LD syntax; the value of "@language" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid default language",context:c});m["@language"]=e.toLowerCase()}g.set("@language",!0)}if("@direction"in c){const t=c["@direction"];if("json-ld-1.0"===e.processingMode)throw new o("Invalid JSON-LD syntax; @direction not compatible with "+e.processingMode,"jsonld.SyntaxError",{code:"invalid context member",context:c});if(null===t)delete m["@direction"];else{if("ltr"!==t&&"rtl"!==t)throw new o('Invalid JSON-LD syntax; the value of "@direction" in a @context must be null, "ltr", or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",context:c});m["@direction"]=t}g.set("@direction",!0)}if("@propagate"in c){const n=c["@propagate"];if("json-ld-1.0"===e.processingMode)throw new o("Invalid JSON-LD syntax; @propagate not compatible with "+e.processingMode,"jsonld.SyntaxError",{code:"invalid context entry",context:c});if("boolean"!=typeof n)throw new o("Invalid JSON-LD syntax; @propagate value must be a boolean.","jsonld.SyntaxError",{code:"invalid @propagate value",context:t});g.set("@propagate",!0)}if("@import"in c){const r=c["@import"];if("json-ld-1.0"===e.processingMode)throw new o("Invalid JSON-LD syntax; @import not compatible with "+e.processingMode,"jsonld.SyntaxError",{code:"invalid context entry",context:c});if(!s(r))throw new o("Invalid JSON-LD syntax; @import must be a string.","jsonld.SyntaxError",{code:"invalid @import value",context:t});const a=await n.contextResolver.resolve({activeCtx:e,context:r,documentLoader:n.documentLoader,base:n.base});if(1!==a.length)throw new o("Invalid JSON-LD syntax; @import must reference a single context.","jsonld.SyntaxError",{code:"invalid remote context",context:t});const i=a[0].getProcessed(e);if(i)c=i;else{const n=a[0].document;if("@import"in n)throw new o("Invalid JSON-LD syntax: imported context must not include @import.","jsonld.SyntaxError",{code:"invalid context entry",context:t});for(const e in n)c.hasOwnProperty(e)||(c[e]=n[e]);a[0].setProcessed(e,c)}g.set("@import",!0)}g.set("@protected",c["@protected"]||!1);for(const e in c)if(v.createTermDefinition({activeCtx:m,localCtx:c,term:e,defined:g,options:n,overrideProtected:f}),i(c[e])&&"@context"in c[e]){const t=c[e]["@context"];let r=!0;if(s(t)){const e=d(n.base,t);h.has(e)?r=!1:h.add(e)}if(r)try{await v.process({activeCtx:m.clone(),localCtx:c[e]["@context"],overrideProtected:!0,options:n,cycles:h})}catch(t){throw new o("Invalid JSON-LD syntax; invalid scoped context.","jsonld.SyntaxError",{code:"invalid scoped context",context:c[e]["@context"],term:e})}}a.setProcessed(e,m)}return m},v.createTermDefinition=({activeCtx:e,localCtx:t,term:n,defined:r,options:c,overrideProtected:u=!1})=>{if(r.has(n)){if(r.get(n))return;throw new o("Cyclical context definition detected.","jsonld.CyclicalContext",{code:"cyclic IRI mapping",context:t,term:n})}let d;if(r.set(n,!1),t.hasOwnProperty(n)&&(d=t[n]),"@type"===n&&i(d)&&"@set"===(d["@container"]||"@set")&&v.processingMode(e,1.1)){const e=["@container","@id","@protected"],r=Object.keys(d);if(0===r.length||r.some((t=>!e.includes(t))))throw new o("Invalid JSON-LD syntax; keywords cannot be overridden.","jsonld.SyntaxError",{code:"keyword redefinition",context:t,term:n})}else{if(v.isKeyword(n))throw new o("Invalid JSON-LD syntax; keywords cannot be overridden.","jsonld.SyntaxError",{code:"keyword redefinition",context:t,term:n});if(n.match(g))return void console.warn('WARNING: terms beginning with "@" are reserved for future use and ignored',{term:n});if(""===n)throw new o("Invalid JSON-LD syntax; a term cannot be an empty string.","jsonld.SyntaxError",{code:"invalid term definition",context:t})}const p=e.mappings.get(n);e.mappings.has(n)&&e.mappings.delete(n);let f=!1;if((s(d)||null===d)&&(f=!0,d={"@id":d}),!i(d))throw new o("Invalid JSON-LD syntax; @context term values must be strings or objects.","jsonld.SyntaxError",{code:"invalid term definition",context:t});const h={};e.mappings.set(n,h),h.reverse=!1;const x=["@container","@id","@language","@reverse","@type"];v.processingMode(e,1.1)&&x.push("@context","@direction","@index","@nest","@prefix","@protected");for(const e in d)if(!x.includes(e))throw new o("Invalid JSON-LD syntax; a term definition must not contain "+e,"jsonld.SyntaxError",{code:"invalid term definition",context:t});const b=n.indexOf(":");if(h._termHasColon=b>0,"@reverse"in d){if("@id"in d)throw new o("Invalid JSON-LD syntax; a @reverse term definition must not contain @id.","jsonld.SyntaxError",{code:"invalid reverse property",context:t});if("@nest"in d)throw new o("Invalid JSON-LD syntax; a @reverse term definition must not contain @nest.","jsonld.SyntaxError",{code:"invalid reverse property",context:t});const a=d["@reverse"];if(!s(a))throw new o("Invalid JSON-LD syntax; a @context @reverse value must be a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});if(!v.isKeyword(a)&&a.match(g))return console.warn('WARNING: values beginning with "@" are reserved for future use and ignored',{reverse:a}),void(p?e.mappings.set(n,p):e.mappings.delete(n));const i=y(e,a,{vocab:!0,base:!1},t,r,c);if(!l(i))throw new o("Invalid JSON-LD syntax; a @context @reverse value must be an absolute IRI or a blank node identifier.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});h["@id"]=i,h.reverse=!0}else if("@id"in d){let a=d["@id"];if(a&&!s(a))throw new o("Invalid JSON-LD syntax; a @context @id value must be an array of strings or a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});if(null===a)h["@id"]=null;else{if(!v.isKeyword(a)&&a.match(g))return console.warn('WARNING: values beginning with "@" are reserved for future use and ignored',{id:a}),void(p?e.mappings.set(n,p):e.mappings.delete(n));if(a!==n){if(a=y(e,a,{vocab:!0,base:!1},t,r,c),!l(a)&&!v.isKeyword(a))throw new o("Invalid JSON-LD syntax; a @context @id value must be an absolute IRI, a blank node identifier, or a keyword.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});if(n.match(/(?::[^:])|\//)&&y(e,n,{vocab:!0,base:!1},t,new Map(r).set(n,!0),c)!==a)throw new o("Invalid JSON-LD syntax; term in form of IRI must expand to definition.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});h["@id"]=a,h._prefix=f&&!h._termHasColon&&a.match(/[:\/\?#\[\]@]$/)}}}if(!("@id"in h))if(h._termHasColon){const o=n.substr(0,b);if(t.hasOwnProperty(o)&&v.createTermDefinition({activeCtx:e,localCtx:t,term:o,defined:r,options:c}),e.mappings.has(o)){const t=n.substr(b+1);h["@id"]=e.mappings.get(o)["@id"]+t}else h["@id"]=n}else if("@type"===n)h["@id"]=n;else{if(!("@vocab"in e))throw new o("Invalid JSON-LD syntax; @context terms must define an @id.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t,term:n});h["@id"]=e["@vocab"]+n}if((!0===d["@protected"]||!0===r.get("@protected")&&!1!==d["@protected"])&&(e.protected[n]=!0,h.protected=!0),r.set(n,!0),"@type"in d){let n=d["@type"];if(!s(n))throw new o("Invalid JSON-LD syntax; an @context @type value must be a string.","jsonld.SyntaxError",{code:"invalid type mapping",context:t});if("@json"===n||"@none"===n){if(v.processingMode(e,1))throw new o(`Invalid JSON-LD syntax; an @context @type value must not be "${n}" in JSON-LD 1.0 mode.`,"jsonld.SyntaxError",{code:"invalid type mapping",context:t})}else if("@id"!==n&&"@vocab"!==n){if(n=y(e,n,{vocab:!0,base:!1},t,r,c),!l(n))throw new o("Invalid JSON-LD syntax; an @context @type value must be an absolute IRI.","jsonld.SyntaxError",{code:"invalid type mapping",context:t});if(0===n.indexOf("_:"))throw new o("Invalid JSON-LD syntax; an @context @type value must be an IRI, not a blank node identifier.","jsonld.SyntaxError",{code:"invalid type mapping",context:t})}h["@type"]=n}if("@container"in d){const n=s(d["@container"])?[d["@container"]]:d["@container"]||[],r=["@list","@set","@index","@language"];let i=!0;const c=n.includes("@set");if(v.processingMode(e,1.1)){if(r.push("@graph","@id","@type"),n.includes("@list")){if(1!==n.length)throw new o("Invalid JSON-LD syntax; @context @container with @list must have no other values","jsonld.SyntaxError",{code:"invalid container mapping",context:t})}else if(n.includes("@graph")){if(n.some((e=>"@graph"!==e&&"@id"!==e&&"@index"!==e&&"@set"!==e)))throw new o("Invalid JSON-LD syntax; @context @container with @graph must have no other values other than @id, @index, and @set","jsonld.SyntaxError",{code:"invalid container mapping",context:t})}else i&=n.length<=(c?2:1);if(n.includes("@type")&&(h["@type"]=h["@type"]||"@id",!["@id","@vocab"].includes(h["@type"])))throw new o("Invalid JSON-LD syntax; container: @type requires @type to be @id or @vocab.","jsonld.SyntaxError",{code:"invalid type mapping",context:t})}else i&=!a(d["@container"]),i&=n.length<=1;if(i&=n.every((e=>r.includes(e))),i&=!(c&&n.includes("@list")),!i)throw new o("Invalid JSON-LD syntax; @context @container value must be one of the following: "+r.join(", "),"jsonld.SyntaxError",{code:"invalid container mapping",context:t});if(h.reverse&&!n.every((e=>["@index","@set"].includes(e))))throw new o("Invalid JSON-LD syntax; @context @container value for a @reverse type definition must be @index or @set.","jsonld.SyntaxError",{code:"invalid reverse property",context:t});h["@container"]=n}if("@index"in d){if(!("@container"in d)||!h["@container"].includes("@index"))throw new o(`Invalid JSON-LD syntax; @index without @index in @container: "${d["@index"]}" on term "${n}".`,"jsonld.SyntaxError",{code:"invalid term definition",context:t});if(!s(d["@index"])||0===d["@index"].indexOf("@"))throw new o(`Invalid JSON-LD syntax; @index must expand to an IRI: "${d["@index"]}" on term "${n}".`,"jsonld.SyntaxError",{code:"invalid term definition",context:t});h["@index"]=d["@index"]}if("@context"in d&&(h["@context"]=d["@context"]),"@language"in d&&!("@type"in d)){let e=d["@language"];if(null!==e&&!s(e))throw new o("Invalid JSON-LD syntax; @context @language value must be a string or null.","jsonld.SyntaxError",{code:"invalid language mapping",context:t});null!==e&&(e=e.toLowerCase()),h["@language"]=e}if("@prefix"in d){if(n.match(/:|\//))throw new o("Invalid JSON-LD syntax; @context @prefix used on a compact IRI term","jsonld.SyntaxError",{code:"invalid term definition",context:t});if(v.isKeyword(h["@id"]))throw new o("Invalid JSON-LD syntax; keywords may not be used as prefixes","jsonld.SyntaxError",{code:"invalid term definition",context:t});if("boolean"!=typeof d["@prefix"])throw new o("Invalid JSON-LD syntax; @context value for @prefix must be boolean","jsonld.SyntaxError",{code:"invalid @prefix value",context:t});h._prefix=!0===d["@prefix"]}if("@direction"in d){const e=d["@direction"];if(null!==e&&"ltr"!==e&&"rtl"!==e)throw new o('Invalid JSON-LD syntax; @direction value must be null, "ltr", or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",context:t});h["@direction"]=e}if("@nest"in d){const e=d["@nest"];if(!s(e)||"@nest"!==e&&0===e.indexOf("@"))throw new o("Invalid JSON-LD syntax; @context @nest value must be a string which is not a keyword other than @nest.","jsonld.SyntaxError",{code:"invalid @nest value",context:t});h["@nest"]=e}const w=h["@id"];if("@context"===w||"@preserve"===w)throw new o("Invalid JSON-LD syntax; @context and @preserve cannot be aliased.","jsonld.SyntaxError",{code:"invalid keyword alias",context:t});if(p&&p.protected&&!u&&(e.protected[n]=!0,h.protected=!0,!m(p,h))){const e=c&&c.protectedMode||"error";if("error"===e)throw new o(`Invalid JSON-LD syntax; tried to redefine "${n}" which is a protected term.`,"jsonld.SyntaxError",{code:"protected term redefinition",context:t,term:n});if("warn"===e)return void console.warn("WARNING: protected term redefinition",{term:n});throw new o("Invalid protectedMode.","jsonld.SyntaxError",{code:"invalid protected mode",context:t,term:n,protectedMode:e})}},v.expandIri=(e,t,n,r)=>y(e,t,n,void 0,void 0,r),v.getInitialContext=e=>{const t=JSON.stringify({processingMode:e.processingMode}),n=h.get(t);if(n)return n;const o={processingMode:e.processingMode,mappings:new Map,inverse:null,getInverse:function(){const e=this;if(e.inverse)return e.inverse;const t=e.inverse={},n=e.fastCurieMap={},r={},o=(e["@language"]||"@none").toLowerCase(),s=e["@direction"],c=e.mappings,l=[...c.keys()].sort(f);for(const e of l){const a=c.get(e);if(null===a)continue;let l=a["@container"]||"@none";if(l=[].concat(l).sort().join(""),null===a["@id"])continue;const u=p(a["@id"]);for(const c of u){let u=t[c];const d=v.isKeyword(c);if(u)d||a._termHasColon||r[c].push(e);else if(t[c]=u={},!d&&!a._termHasColon){r[c]=[e];const t={iri:c,terms:r[c]};c[0]in n?n[c[0]].push(t):n[c[0]]=[t]}if(u[l]||(u[l]={"@language":{},"@type":{},"@any":{}}),u=u[l],i(e,u["@any"],"@none"),a.reverse)i(e,u["@type"],"@reverse");else if("@none"===a["@type"])i(e,u["@any"],"@none"),i(e,u["@language"],"@none"),i(e,u["@type"],"@none");else if("@type"in a)i(e,u["@type"],a["@type"]);else if("@language"in a&&"@direction"in a){const t=a["@language"],n=a["@direction"];i(e,u["@language"],t&&n?`${t}_${n}`.toLowerCase():t?t.toLowerCase():n?`_${n}`:"@null")}else"@language"in a?i(e,u["@language"],(a["@language"]||"@null").toLowerCase()):"@direction"in a?a["@direction"]?i(e,u["@language"],`_${a["@direction"]}`):i(e,u["@language"],"@none"):s?(i(e,u["@language"],`_${s}`),i(e,u["@language"],"@none"),i(e,u["@type"],"@none")):(i(e,u["@language"],o),i(e,u["@language"],"@none"),i(e,u["@type"],"@none"))}}for(const e in n)a(n,e,1);return t},clone:function(){const e={};return e.mappings=r.clone(this.mappings),e.clone=this.clone,e.inverse=null,e.getInverse=this.getInverse,e.protected=r.clone(this.protected),this.previousContext&&(e.previousContext=this.previousContext.clone()),e.revertToPreviousContext=this.revertToPreviousContext,"@base"in this&&(e["@base"]=this["@base"]),"@language"in this&&(e["@language"]=this["@language"]),"@vocab"in this&&(e["@vocab"]=this["@vocab"]),e},revertToPreviousContext:function(){return this.previousContext?this.previousContext.clone():this},protected:{}};return 1e4===h.size&&h.clear(),h.set(t,o),o;function a(e,t,n){const r=e[t],o=e[t]={};let i,s;for(const e of r)i=e.iri,s=n>=i.length?"":i[n],s in o?o[s].push(e):o[s]=[e];for(const e in o)""!==e&&a(o,e,n+1)}function i(e,t,n){t.hasOwnProperty(n)||(t[n]=e)}},v.getContextValue=(e,t,n)=>{if(null===t){if("@context"===n)return;return null}if(e.mappings.has(t)){const r=e.mappings.get(t);if(c(n))return r;if(r.hasOwnProperty(n))return r[n]}return"@language"===n&&n in e||"@direction"===n&&n in e?e[n]:"@context"!==n?null:void 0},v.processingMode=(e,t)=>t.toString()>="1.1"?!e.processingMode||e.processingMode>="json-ld-"+t.toString():"json-ld-1.0"===e.processingMode,v.isKeyword=e=>{if(!s(e)||"@"!==e[0])return!1;switch(e){case"@base":case"@container":case"@context":case"@default":case"@direction":case"@embed":case"@explicit":case"@graph":case"@id":case"@included":case"@index":case"@json":case"@language":case"@list":case"@nest":case"@none":case"@omitDefault":case"@prefix":case"@preserve":case"@protected":case"@requireAll":case"@reverse":case"@set":case"@type":case"@value":case"@version":case"@vocab":return!0}return!1}},8831:(e,t,n)=>{"use strict";const{parseLinkHeader:r,buildHeaders:o}=n(51055),{LINK_HEADER_CONTEXT:a}=n(93770),i=n(54093),s=n(40533),{prependBase:c}=n(82278),l=/(^|(\r\n))link:/i;e.exports=({secure:e,headers:t={},xhr:n}={headers:{}})=>(t=o(t),(new s).wrapLoader((async function o(s){if(0!==s.indexOf("http:")&&0!==s.indexOf("https:"))throw new i('URL could not be dereferenced; only "http" and "https" URLs are supported.',"jsonld.InvalidUrl",{code:"loading document failed",url:s});if(e&&0!==s.indexOf("https"))throw new i('URL could not be dereferenced; secure mode is enabled and the URL\'s scheme is not "https".',"jsonld.InvalidUrl",{code:"loading document failed",url:s});let u;try{u=await function(e,t,n){const r=new(e=e||XMLHttpRequest);return new Promise(((e,o)=>{r.onload=()=>e(r),r.onerror=e=>o(e),r.open("GET",t,!0);for(const e in n)r.setRequestHeader(e,n[e]);r.send()}))}(n,s,t)}catch(e){throw new i("URL could not be dereferenced, an error occurred.","jsonld.LoadDocumentError",{code:"loading document failed",url:s,cause:e})}if(u.status>=400)throw new i("URL could not be dereferenced: "+u.statusText,"jsonld.LoadDocumentError",{code:"loading document failed",url:s,httpStatusCode:u.status});let d={contextUrl:null,documentUrl:s,document:u.response},p=null;const f=u.getResponseHeader("Content-Type");let h;if(l.test(u.getAllResponseHeaders())&&(h=u.getResponseHeader("Link")),h&&"application/ld+json"!==f){const e=r(h),t=e[a];if(Array.isArray(t))throw new i("URL could not be dereferenced, it has more than one associated HTTP Link Header.","jsonld.InvalidUrl",{code:"multiple context link headers",url:s});t&&(d.contextUrl=t.target),p=e.alternate,p&&"application/ld+json"==p.type&&!(f||"").match(/^application\/(\w*\+)?json$/)&&(d=await o(c(s,p.target)))}return d})))},62759:(e,t,n)=>{"use strict";const r=n(54093),{isArray:o,isObject:a,isEmptyObject:i,isString:s,isUndefined:c}=n(30832),{isList:l,isValue:u,isGraph:d,isSubject:p}=n(18463),{expandIri:f,getContextValue:h,isKeyword:g,process:v,processingMode:y}=n(54131),{isAbsolute:m}=n(82278),{addValue:x,asArray:b,getValues:w,validateTypeValue:j}=n(51055),A={};e.exports=A;const I=/^[a-zA-Z]{1,8}(-[a-zA-Z0-9]{1,8})*$/;async function C({activeCtx:e,activeProperty:t,expandedActiveProperty:n,element:d,expandedParent:w,options:S={},insideList:O,typeKey:E,typeScopedContext:k,expansionMap:T}){const D=Object.keys(d).sort(),R=[];let P;const _=d[E]&&"@json"===f(e,o(d[E])?d[E][0]:d[E],{vocab:!0},S);for(const C of D){let E,D=d[C];if("@context"===C)continue;let M=f(e,C,{vocab:!0},S);if((null===M||!m(M)&&!g(M))&&(M=T({unmappedProperty:C,activeCtx:e,activeProperty:t,parent:d,options:S,insideList:O,value:D,expandedParent:w}),void 0===M))continue;if(g(M)){if("@reverse"===n)throw new r("Invalid JSON-LD syntax; a keyword cannot be used as a @reverse property.","jsonld.SyntaxError",{code:"invalid reverse property map",value:D});if(M in w&&"@included"!==M&&"@type"!==M)throw new r("Invalid JSON-LD syntax; colliding keywords detected.","jsonld.SyntaxError",{code:"colliding keywords",keyword:M})}if("@id"===M){if(!s(D)){if(!S.isFrame)throw new r('Invalid JSON-LD syntax; "@id" value must a string.',"jsonld.SyntaxError",{code:"invalid @id value",value:D});if(a(D)){if(!i(D))throw new r('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:D})}else{if(!o(D))throw new r('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:D});if(!D.every((e=>s(e))))throw new r('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:D})}}x(w,"@id",b(D).map((t=>s(t)?f(e,t,{base:!0},S):t)),{propertyIsArray:S.isFrame});continue}if("@type"===M){a(D)&&(D=Object.fromEntries(Object.entries(D).map((([e,t])=>[f(k,e,{vocab:!0}),b(t).map((e=>f(k,e,{base:!0,vocab:!0})))])))),j(D,S.isFrame),x(w,"@type",b(D).map((e=>s(e)?f(k,e,{base:!0,vocab:!0},S):e)),{propertyIsArray:S.isFrame});continue}if("@included"===M&&y(e,1.1)){const n=b(await A.expand({activeCtx:e,activeProperty:t,element:D,options:S,expansionMap:T}));if(!n.every((e=>p(e))))throw new r("Invalid JSON-LD syntax; values of @included must expand to node objects.","jsonld.SyntaxError",{code:"invalid @included value",value:D});x(w,"@included",n,{propertyIsArray:!0});continue}if("@graph"===M&&!a(D)&&!o(D))throw new r('Invalid JSON-LD syntax; "@graph" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid @graph value",value:D});if("@value"===M){P=D,_&&y(e,1.1)?w["@value"]=D:x(w,"@value",D,{propertyIsArray:S.isFrame});continue}if("@language"===M){if(null===D)continue;if(!s(D)&&!S.isFrame)throw new r('Invalid JSON-LD syntax; "@language" value must be a string.',"jsonld.SyntaxError",{code:"invalid language-tagged string",value:D});D=b(D).map((e=>s(e)?e.toLowerCase():e));for(const e of D)s(e)&&!e.match(I)&&console.warn(`@language must be valid BCP47: ${e}`);x(w,"@language",D,{propertyIsArray:S.isFrame});continue}if("@direction"===M){if(!s(D)&&!S.isFrame)throw new r('Invalid JSON-LD syntax; "@direction" value must be a string.',"jsonld.SyntaxError",{code:"invalid base direction",value:D});D=b(D);for(const e of D)if(s(e)&&"ltr"!==e&&"rtl"!==e)throw new r('Invalid JSON-LD syntax; "@direction" must be "ltr" or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",value:D});x(w,"@direction",D,{propertyIsArray:S.isFrame});continue}if("@index"===M){if(!s(D))throw new r('Invalid JSON-LD syntax; "@index" value must be a string.',"jsonld.SyntaxError",{code:"invalid @index value",value:D});x(w,"@index",D);continue}if("@reverse"===M){if(!a(D))throw new r('Invalid JSON-LD syntax; "@reverse" value must be an object.',"jsonld.SyntaxError",{code:"invalid @reverse value",value:D});if(E=await A.expand({activeCtx:e,activeProperty:"@reverse",element:D,options:S,expansionMap:T}),"@reverse"in E)for(const e in E["@reverse"])x(w,e,E["@reverse"][e],{propertyIsArray:!0});let t=w["@reverse"]||null;for(const e in E){if("@reverse"===e)continue;null===t&&(t=w["@reverse"]={}),x(t,e,[],{propertyIsArray:!0});const n=E[e];for(let o=0;o<n.length;++o){const a=n[o];if(u(a)||l(a))throw new r('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:E});x(t,e,a,{propertyIsArray:!0})}}continue}if("@nest"===M){R.push(C);continue}let F=e;const J=h(e,C,"@context");c(J)||(F=await v({activeCtx:e,localCtx:J,propagate:!0,overrideProtected:!0,options:S}));const B=h(F,C,"@container")||[];if(B.includes("@language")&&a(D))E=N(F,D,h(F,C,"@direction"),S);else if(B.includes("@index")&&a(D)){const t=B.includes("@graph"),n=h(F,C,"@index")||"@index",r="@index"!==n&&f(e,n,{vocab:!0},S);E=await L({activeCtx:F,options:S,activeProperty:C,value:D,expansionMap:T,asGraph:t,indexKey:n,propertyIndex:r})}else if(B.includes("@id")&&a(D)){const e=B.includes("@graph");E=await L({activeCtx:F,options:S,activeProperty:C,value:D,expansionMap:T,asGraph:e,indexKey:"@id"})}else if(B.includes("@type")&&a(D))E=await L({activeCtx:F.revertToPreviousContext(),options:S,activeProperty:C,value:D,expansionMap:T,asGraph:!1,indexKey:"@type"});else{const r="@list"===M;if(r||"@set"===M){let e=t;r&&"@graph"===n&&(e=null),E=await A.expand({activeCtx:F,activeProperty:e,element:D,options:S,insideList:r,expansionMap:T})}else E="@json"===h(e,C,"@type")?{"@type":"@json","@value":D}:await A.expand({activeCtx:F,activeProperty:C,element:D,options:S,insideList:!1,expansionMap:T})}if(null!==E||"@value"===M||(E=T({unmappedValue:D,expandedProperty:M,activeCtx:F,activeProperty:t,parent:d,options:S,insideList:O,key:C,expandedParent:w}),void 0!==E))if("@list"!==M&&!l(E)&&B.includes("@list")&&(E={"@list":b(E)}),B.includes("@graph")&&!B.some((e=>"@id"===e||"@index"===e))&&(E=b(E).map((e=>({"@graph":b(e)})))),F.mappings.has(C)&&F.mappings.get(C).reverse){const e=w["@reverse"]=w["@reverse"]||{};E=b(E);for(let t=0;t<E.length;++t){const n=E[t];if(u(n)||l(n))throw new r('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:E});x(e,M,n,{propertyIsArray:!0})}}else x(w,M,E,{propertyIsArray:!0})}if("@value"in w)if("@json"===w["@type"]&&y(e,1.1));else if((a(P)||o(P))&&!S.isFrame)throw new r('Invalid JSON-LD syntax; "@value" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid value object value",value:P});for(const i of R){const s=o(d[i])?d[i]:[d[i]];for(const o of s){if(!a(o)||Object.keys(o).some((t=>"@value"===f(e,t,{vocab:!0},S))))throw new r("Invalid JSON-LD syntax; nested value must be a node object.","jsonld.SyntaxError",{code:"invalid @nest value",value:o});await C({activeCtx:e,activeProperty:t,expandedActiveProperty:n,element:o,expandedParent:w,options:S,insideList:O,typeScopedContext:k,typeKey:E,expansionMap:T})}}}function S({activeCtx:e,activeProperty:t,value:n,options:r}){if(null==n)return null;const o=f(e,t,{vocab:!0},r);if("@id"===o)return f(e,n,{base:!0},r);if("@type"===o)return f(e,n,{vocab:!0,base:!0},r);const a=h(e,t,"@type");if(("@id"===a||"@graph"===o)&&s(n))return{"@id":f(e,n,{base:!0},r)};if("@vocab"===a&&s(n))return{"@id":f(e,n,{vocab:!0,base:!0},r)};if(g(o))return n;const i={};if(a&&!["@id","@vocab","@none"].includes(a))i["@type"]=a;else if(s(n)){const n=h(e,t,"@language");null!==n&&(i["@language"]=n);const r=h(e,t,"@direction");null!==r&&(i["@direction"]=r)}return["boolean","number","string"].includes(typeof n)||(n=n.toString()),i["@value"]=n,i}function N(e,t,n,a){const i=[],c=Object.keys(t).sort();for(const l of c){const c=f(e,l,{vocab:!0},a);let u=t[l];o(u)||(u=[u]);for(const e of u){if(null===e)continue;if(!s(e))throw new r("Invalid JSON-LD syntax; language map values must be strings.","jsonld.SyntaxError",{code:"invalid language map value",languageMap:t});const o={"@value":e};"@none"!==c&&(o["@language"]=l.toLowerCase()),n&&(o["@direction"]=n),i.push(o)}}return i}async function L({activeCtx:e,options:t,activeProperty:n,value:a,expansionMap:i,asGraph:s,indexKey:l,propertyIndex:p}){const g=[],y=Object.keys(a).sort(),m="@type"===l;for(let b of y){if(m){const n=h(e,b,"@context");c(n)||(e=await v({activeCtx:e,localCtx:n,propagate:!1,options:t}))}let y,w=a[b];o(w)||(w=[w]),w=await A.expand({activeCtx:e,activeProperty:n,element:w,options:t,insideList:!1,insideIndex:!0,expansionMap:i}),y=p?"@none"===b?"@none":S({activeCtx:e,activeProperty:l,value:b,options:t}):f(e,b,{vocab:!0},t),"@id"===l?b=f(e,b,{base:!0},t):m&&(b=y);for(let e of w){if(s&&!d(e)&&(e={"@graph":[e]}),"@type"===l)"@none"===y||(e["@type"]?e["@type"]=[b].concat(e["@type"]):e["@type"]=[b]);else{if(u(e)&&!["@language","@type","@index"].includes(l))throw new r(`Invalid JSON-LD syntax; Attempt to add illegal key to value object: "${l}".`,"jsonld.SyntaxError",{code:"invalid value object",value:e});p?"@none"!==y&&x(e,p,y,{propertyIsArray:!0,prependValue:!0}):"@none"===y||l in e||(e[l]=b)}g.push(e)}}return g}A.expand=async({activeCtx:e,activeProperty:t=null,element:n,options:l={},insideList:u=!1,insideIndex:d=!1,typeScopedContext:p=null,expansionMap:g=(()=>{})})=>{if(null==n)return null;if("@default"===t&&(l=Object.assign({},l,{isFrame:!1})),!o(n)&&!a(n)){if(!u&&(null===t||"@graph"===f(e,t,{vocab:!0},l))){const r=await g({unmappedValue:n,activeCtx:e,activeProperty:t,options:l,insideList:u});return void 0===r?null:r}return S({activeCtx:e,activeProperty:t,value:n,options:l})}if(o(n)){let r=[];const a=h(e,t,"@container")||[];u=u||a.includes("@list");for(let a=0;a<n.length;++a){let i=await A.expand({activeCtx:e,activeProperty:t,element:n[a],options:l,expansionMap:g,insideIndex:d,typeScopedContext:p});u&&o(i)&&(i={"@list":i}),null===i&&(i=await g({unmappedValue:n[a],activeCtx:e,activeProperty:t,parent:n,index:a,options:l,expandedParent:r,insideList:u}),void 0===i)||(o(i)?r=r.concat(i):r.push(i))}return r}const x=f(e,t,{vocab:!0},l),j=h(e,t,"@context");p=p||(e.previousContext?e:null);let I=Object.keys(n).sort(),N=!d;if(N&&p&&I.length<=2&&!I.includes("@context"))for(const t of I){const n=f(p,t,{vocab:!0},l);if("@value"===n){N=!1,e=p;break}if("@id"===n&&1===I.length){N=!1;break}}N&&(e=e.revertToPreviousContext()),c(j)||(e=await v({activeCtx:e,localCtx:j,propagate:!0,overrideProtected:!0,options:l})),"@context"in n&&(e=await v({activeCtx:e,localCtx:n["@context"],options:l})),p=e;let L=null;for(const t of I)if("@type"===f(e,t,{vocab:!0},l)){L=L||t;const r=n[t],o=Array.isArray(r)?r.length>1?r.slice().sort():r:[r];for(const t of o){const n=h(p,t,"@context");c(n)||(e=await v({activeCtx:e,localCtx:n,options:l,propagate:!1}))}}let O={};await C({activeCtx:e,activeProperty:t,expandedActiveProperty:x,element:n,expandedParent:O,options:l,insideList:u,typeKey:L,typeScopedContext:p,expansionMap:g}),I=Object.keys(O);let E=I.length;if("@value"in O){if("@type"in O&&("@language"in O||"@direction"in O))throw new r('Invalid JSON-LD syntax; an element containing "@value" may not contain both "@type" and either "@language" or "@direction".',"jsonld.SyntaxError",{code:"invalid value object",element:O});let o=E-1;if("@type"in O&&(o-=1),"@index"in O&&(o-=1),"@language"in O&&(o-=1),"@direction"in O&&(o-=1),0!==o)throw new r('Invalid JSON-LD syntax; an element containing "@value" may only have an "@index" property and either "@type" or either or both "@language" or "@direction".',"jsonld.SyntaxError",{code:"invalid value object",element:O});const a=null===O["@value"]?[]:b(O["@value"]),c=w(O,"@type");if(y(e,1.1)&&c.includes("@json")&&1===c.length);else if(0===a.length){const r=await g({unmappedValue:O,activeCtx:e,activeProperty:t,element:n,options:l,insideList:u});O=void 0!==r?r:null}else{if(!a.every((e=>s(e)||i(e)))&&"@language"in O)throw new r("Invalid JSON-LD syntax; only strings may be language-tagged.","jsonld.SyntaxError",{code:"invalid language-tagged value",element:O});if(!c.every((e=>m(e)&&!(s(e)&&0===e.indexOf("_:"))||i(e))))throw new r('Invalid JSON-LD syntax; an element containing "@value" and "@type" must have an absolute IRI for the value of "@type".',"jsonld.SyntaxError",{code:"invalid typed value",element:O})}}else if("@type"in O&&!o(O["@type"]))O["@type"]=[O["@type"]];else if("@set"in O||"@list"in O){if(E>1&&(2!==E||!("@index"in O)))throw new r('Invalid JSON-LD syntax; if an element has the property "@set" or "@list", then it can have at most one other property that is "@index".',"jsonld.SyntaxError",{code:"invalid set or list object",element:O});"@set"in O&&(O=O["@set"],I=Object.keys(O),E=I.length)}else if(1===E&&"@language"in O){const r=await g(O,{unmappedValue:O,activeCtx:e,activeProperty:t,element:n,options:l,insideList:u});O=void 0!==r?r:null}if(a(O)&&!l.keepFreeFloatingNodes&&!u&&(null===t||"@graph"===x)&&(0===E||"@value"in O||"@list"in O||1===E&&"@id"in O)){const r=await g({unmappedValue:O,activeCtx:e,activeProperty:t,element:n,options:l,insideList:u});O=void 0!==r?r:null}return O}},41565:(e,t,n)=>{"use strict";const{isSubjectReference:r}=n(18463),{createMergedNodeMap:o}=n(32664),a={};e.exports=a,a.flatten=e=>{const t=o(e),n=[],a=Object.keys(t).sort();for(let e=0;e<a.length;++e){const o=t[a[e]];r(o)||n.push(o)}return n}},63859:(e,t,n)=>{"use strict";const{isKeyword:r}=n(54131),o=n(18463),a=n(30832),i=n(51055),s=n(82278),c=n(54093),{createNodeMap:l,mergeNodeMapGraphs:u}=n(32664),d={};function p(e){const t={};for(const n in e)void 0!==e[n]&&(t["@"+n]=[e[n]]);return[t]}function f(e,t,n){for(let r=n.length-1;r>=0;--r){const o=n[r];if(o.graph===t&&o.subject["@id"]===e["@id"])return!0}return!1}function h(e,t,n){const r="@"+n;let o=r in e?e[r][0]:t[n];if("embed"===n)if(!0===o)o="@once";else if(!1===o)o="@never";else if("@always"!==o&&"@never"!==o&&"@link"!==o&&"@first"!==o&&"@last"!==o&&"@once"!==o)throw new c("Invalid JSON-LD syntax; invalid value of @embed.","jsonld.SyntaxError",{code:"invalid @embed value",frame:e});return o}function g(e){if(!a.isArray(e)||1!==e.length||!a.isObject(e[0]))throw new c("Invalid JSON-LD syntax; a JSON-LD frame must be a single object.","jsonld.SyntaxError",{frame:e});if("@id"in e[0])for(const t of i.asArray(e[0]["@id"]))if(!a.isObject(t)&&!s.isAbsolute(t)||a.isString(t)&&0===t.indexOf("_:"))throw new c("Invalid JSON-LD syntax; invalid @id in frame.","jsonld.SyntaxError",{code:"invalid frame",frame:e});if("@type"in e[0])for(const t of i.asArray(e[0]["@type"]))if(!a.isObject(t)&&!s.isAbsolute(t)||a.isString(t)&&0===t.indexOf("_:"))throw new c("Invalid JSON-LD syntax; invalid @type in frame.","jsonld.SyntaxError",{code:"invalid frame",frame:e})}function v(e,t,n,s){let c=!0,l=!1;for(const u in n){let d=!1;const p=i.getValues(t,u),f=0===i.getValues(n,u).length;if("@id"===u){if(a.isEmptyObject(n["@id"][0]||{})?d=!0:n["@id"].length>=0&&(d=n["@id"].includes(p[0])),!s.requireAll)return d}else if("@type"===u){if(c=!1,f){if(p.length>0)return!1;d=!0}else if(1===n["@type"].length&&a.isEmptyObject(n["@type"][0]))d=p.length>0;else for(const e of n["@type"])d=!(!a.isObject(e)||!("@default"in e))||d||p.some((t=>t===e));if(!s.requireAll)return d}else{if(r(u))continue;{const t=i.getValues(n,u)[0];let r=!1;if(t&&(g([t]),r="@default"in t),c=!1,0===p.length&&r)continue;if(p.length>0&&f)return!1;if(void 0===t){if(p.length>0)return!1;d=!0}else if(o.isList(t)){const n=t["@list"][0];if(o.isList(p[0])){const t=p[0]["@list"];o.isValue(n)?d=t.some((e=>w(n,e))):(o.isSubject(n)||o.isSubjectReference(n))&&(d=t.some((t=>b(e,n,t,s))))}}else d=o.isValue(t)?p.some((e=>w(t,e))):o.isSubjectReference(t)?p.some((n=>b(e,t,n,s))):!!a.isObject(t)&&p.length>0}}if(!d&&s.requireAll)return!1;l=l||d}return c||l}function y(e,t){const n=e.uniqueEmbeds[e.graph],r=n[t],o=r.parent,s=r.property,c={"@id":t};if(a.isArray(o)){for(let e=0;e<o.length;++e)if(i.compareValues(o[e],c)){o[e]=c;break}}else{const e=a.isArray(o[s]);i.removeValue(o,s,c,{propertyIsArray:e}),i.addValue(o,s,c,{propertyIsArray:e})}const l=e=>{const t=Object.keys(n);for(const r of t)r in n&&a.isObject(n[r].parent)&&n[r].parent["@id"]===e&&(delete n[r],l(r))};l(t)}function m(e,t){if(a.isArray(e))return e.map((e=>m(e,t)));if(a.isObject(e)){if("@preserve"in e)return e["@preserve"][0];if(o.isValue(e))return e;if(o.isList(e))return e["@list"]=m(e["@list"],t),e;if("@id"in e){const n=e["@id"];if(t.link.hasOwnProperty(n)){const r=t.link[n].indexOf(e);if(-1!==r)return t.link[n][r];t.link[n].push(e)}else t.link[n]=[e]}for(const n in e)"@id"===n&&t.bnodesToClear.includes(e[n])?delete e["@id"]:e[n]=m(e[n],t)}return e}function x(e,t,n){a.isObject(e)?i.addValue(e,t,n,{propertyIsArray:!0}):e.push(n)}function b(e,t,n,r){if(!("@id"in n))return!1;const o=e.subjects[n["@id"]];return o&&v(e,o,t,r)}function w(e,t){const n=t["@value"],r=t["@type"],o=t["@language"],i=e["@value"]?a.isArray(e["@value"])?e["@value"]:[e["@value"]]:[],s=e["@type"]?a.isArray(e["@type"])?e["@type"]:[e["@type"]]:[],c=e["@language"]?a.isArray(e["@language"])?e["@language"]:[e["@language"]]:[];return 0===i.length&&0===s.length&&0===c.length||!(!i.includes(n)&&!a.isEmptyObject(i[0]))&&!!(!r&&0===s.length||s.includes(r)||r&&a.isEmptyObject(s[0]))&&!!(!o&&0===c.length||c.includes(o)||o&&a.isEmptyObject(c[0]))}e.exports=d,d.frameMergedOrDefault=(e,t,n)=>{const r={options:n,embedded:!1,graph:"@default",graphMap:{"@default":{}},subjectStack:[],link:{},bnodeMap:{}},o=new i.IdentifierIssuer("_:b");l(e,r.graphMap,"@default",o),n.merged&&(r.graphMap["@merged"]=u(r.graphMap),r.graph="@merged"),r.subjects=r.graphMap[r.graph];const a=[];return d.frame(r,Object.keys(r.subjects).sort(),t,a),n.pruneBlankNodeIdentifiers&&(n.bnodesToClear=Object.keys(r.bnodeMap).filter((e=>1===r.bnodeMap[e].length))),n.link={},m(a,n)},d.frame=(e,t,n,s,l=null)=>{g(n),n=n[0];const u=e.options,m={embed:h(n,u,"embed"),explicit:h(n,u,"explicit"),requireAll:h(n,u,"requireAll")};e.link.hasOwnProperty(e.graph)||(e.link[e.graph]={});const b=e.link[e.graph],j=function(e,t,n,r){const o={};for(const a of t){const t=e.graphMap[e.graph][a];v(e,t,n,r)&&(o[a]=t)}return o}(e,t,n,m),A=Object.keys(j).sort();for(const g of A){const v=j[g];if(null===l?e.uniqueEmbeds={[e.graph]:{}}:e.uniqueEmbeds[e.graph]=e.uniqueEmbeds[e.graph]||{},"@link"===m.embed&&g in b){x(s,l,b[g]);continue}const A={"@id":g};if(0===g.indexOf("_:")&&i.addValue(e.bnodeMap,g,A,{propertyIsArray:!0}),b[g]=A,("@first"===m.embed||"@last"===m.embed)&&e.is11)throw new c("Invalid JSON-LD syntax; invalid value of @embed.","jsonld.SyntaxError",{code:"invalid @embed value",frame:n});if(e.embedded||!e.uniqueEmbeds[e.graph].hasOwnProperty(g))if(!e.embedded||"@never"!==m.embed&&!f(v,e.graph,e.subjectStack))if(!e.embedded||"@first"!=m.embed&&"@once"!=m.embed||!e.uniqueEmbeds[e.graph].hasOwnProperty(g)){if("@last"===m.embed&&g in e.uniqueEmbeds[e.graph]&&y(e,g),e.uniqueEmbeds[e.graph][g]={parent:s,property:l},e.subjectStack.push({subject:v,graph:e.graph}),g in e.graphMap){let t=!1,r=null;"@graph"in n?(r=n["@graph"][0],t=!("@merged"===g||"@default"===g),a.isObject(r)||(r={})):(t="@merged"!==e.graph,r={}),t&&d.frame({...e,graph:g,embedded:!1},Object.keys(e.graphMap[g]).sort(),[r],A,"@graph")}"@included"in n&&d.frame({...e,embedded:!1},t,n["@included"],A,"@included");for(const t of Object.keys(v).sort())if(r(t)){if(A[t]=i.clone(v[t]),"@type"===t)for(const t of v["@type"])0===t.indexOf("_:")&&i.addValue(e.bnodeMap,t,A,{propertyIsArray:!0})}else if(!m.explicit||t in n)for(const r of v[t]){const a=t in n?n[t]:p(m);if(o.isList(r)){const a=n[t]&&n[t][0]&&n[t][0]["@list"]?n[t][0]["@list"]:p(m),s={"@list":[]};x(A,t,s);const c=r["@list"];for(const t of c)o.isSubjectReference(t)?d.frame({...e,embedded:!0},[t["@id"]],a,s,"@list"):x(s,"@list",i.clone(t))}else o.isSubjectReference(r)?d.frame({...e,embedded:!0},[r["@id"]],a,A,t):w(a[0],r)&&x(A,t,i.clone(r))}for(const e of Object.keys(n).sort()){if("@type"===e){if(!a.isObject(n[e][0])||!("@default"in n[e][0]))continue}else if(r(e))continue;const t=n[e][0]||{};if(!h(t,u,"omitDefault")&&!(e in A)){let n="@null";"@default"in t&&(n=i.clone(t["@default"])),a.isArray(n)||(n=[n]),A[e]=[{"@preserve":n}]}}for(const t of Object.keys(n["@reverse"]||{}).sort()){const r=n["@reverse"][t];for(const n of Object.keys(e.subjects))i.getValues(e.subjects[n],t).some((e=>e["@id"]===g))&&(A["@reverse"]=A["@reverse"]||{},i.addValue(A["@reverse"],t,[],{propertyIsArray:!0}),d.frame({...e,embedded:!0},[n],r,A["@reverse"][t],l))}x(s,l,A),e.subjectStack.pop()}else x(s,l,A);else x(s,l,A)}},d.cleanupNull=(e,t)=>{if(a.isArray(e))return e.map((e=>d.cleanupNull(e,t))).filter((e=>e));if("@null"===e)return null;if(a.isObject(e)){if("@id"in e){const n=e["@id"];if(t.link.hasOwnProperty(n)){const r=t.link[n].indexOf(e);if(-1!==r)return t.link[n][r];t.link[n].push(e)}else t.link[n]=[e]}for(const n in e)e[n]=d.cleanupNull(e[n],t)}return e}},25076:(e,t,n)=>{"use strict";const r=n(54093),o=n(18463),a=n(30832),i=n(51055),{RDF_LIST:s,RDF_FIRST:c,RDF_REST:l,RDF_NIL:u,RDF_TYPE:d,RDF_JSON_LITERAL:p,XSD_BOOLEAN:f,XSD_DOUBLE:h,XSD_INTEGER:g,XSD_STRING:v}=n(93770),y=/^[a-zA-Z]{1,8}(-[a-zA-Z0-9]{1,8})*$/,m={};function x(e,t,n){if(e.termType.endsWith("Node"))return{"@id":e.value};const o={"@value":e.value};if(e.language)o["@language"]=e.language;else{let i=e.datatype.value;if(i||(i=v),i===p){i="@json";try{o["@value"]=JSON.parse(o["@value"])}catch(e){throw new r("JSON literal could not be parsed.","jsonld.InvalidJsonLiteral",{code:"invalid JSON literal",value:o["@value"],cause:e})}}if(t){if(i===f)"true"===o["@value"]?o["@value"]=!0:"false"===o["@value"]&&(o["@value"]=!1);else if(a.isNumeric(o["@value"]))if(i===g){const e=parseInt(o["@value"],10);e.toFixed(0)===o["@value"]&&(o["@value"]=e)}else i===h&&(o["@value"]=parseFloat(o["@value"]));[f,g,h,v].includes(i)||(o["@type"]=i)}else if("i18n-datatype"===n&&i.startsWith("https://www.w3.org/ns/i18n#")){const[,e,t]=i.split(/[#_]/);e.length>0&&(o["@language"]=e,e.match(y)||console.warn(`@language must be valid BCP47: ${e}`)),o["@direction"]=t}else i!==v&&(o["@type"]=i)}return o}e.exports=m,m.fromRDF=async(e,{useRdfType:t=!1,useNativeTypes:n=!1,rdfDirection:r=null})=>{const p={},f={"@default":p},h={};for(const o of e){const e="DefaultGraph"===o.graph.termType?"@default":o.graph.value;e in f||(f[e]={}),"@default"===e||e in p||(p[e]={"@id":e});const a=f[e],s=o.subject.value,c=o.predicate.value,l=o.object;s in a||(a[s]={"@id":s});const g=a[s],v=l.termType.endsWith("Node");if(v&&!(l.value in a)&&(a[l.value]={"@id":l.value}),c===d&&!t&&v){i.addValue(g,"@type",l.value,{propertyIsArray:!0});continue}const y=x(l,n,r);if(i.addValue(g,c,y,{propertyIsArray:!0}),v)if(l.value===u){const e=a[l.value];"usages"in e||(e.usages=[]),e.usages.push({node:g,property:c,value:y})}else l.value in h?h[l.value]=!1:h[l.value]={node:g,property:c,value:y}}for(const e in f){const t=f[e];if(!(u in t))continue;const n=t[u];if(n.usages){for(let e of n.usages){let n=e.node,r=e.property,i=e.value;const u=[],d=[];let p=Object.keys(n).length;for(;r===l&&a.isObject(h[n["@id"]])&&a.isArray(n[c])&&1===n[c].length&&a.isArray(n[l])&&1===n[l].length&&(3===p||4===p&&a.isArray(n["@type"])&&1===n["@type"].length&&n["@type"][0]===s)&&(u.push(n[c][0]),d.push(n["@id"]),e=h[n["@id"]],n=e.node,r=e.property,i=e.value,p=Object.keys(n).length,o.isBlankNode(n)););delete i["@id"],i["@list"]=u.reverse();for(const e of d)delete t[e]}delete n.usages}}const g=[],v=Object.keys(p).sort();for(const e of v){const t=p[e];if(e in f){const n=t["@graph"]=[],r=f[e],a=Object.keys(r).sort();for(const e of a){const t=r[e];o.isSubjectReference(t)||n.push(t)}}o.isSubjectReference(t)||g.push(t)}return g}},18463:(e,t,n)=>{"use strict";const r=n(30832),o={};e.exports=o,o.isSubject=e=>!(!r.isObject(e)||"@value"in e||"@set"in e||"@list"in e)&&(Object.keys(e).length>1||!("@id"in e)),o.isSubjectReference=e=>r.isObject(e)&&1===Object.keys(e).length&&"@id"in e,o.isValue=e=>r.isObject(e)&&"@value"in e,o.isList=e=>r.isObject(e)&&"@list"in e,o.isGraph=e=>r.isObject(e)&&"@graph"in e&&1===Object.keys(e).filter((e=>"@id"!==e&&"@index"!==e)).length,o.isSimpleGraph=e=>o.isGraph(e)&&!("@id"in e),o.isBlankNode=e=>!!r.isObject(e)&&("@id"in e?0===e["@id"].indexOf("_:"):0===Object.keys(e).length||!("@value"in e||"@set"in e||"@list"in e))},36805:(e,t,n)=>{const r=n(47055),o=n(67222),a=n(51055),i=n(68058),s=a.IdentifierIssuer,c=n(54093),l=n(39593),u=n(69048),{expand:d}=n(62759),{flatten:p}=n(41565),{fromRDF:f}=n(25076),{toRDF:h}=n(19382),{frameMergedOrDefault:g,cleanupNull:v}=n(63859),{isArray:y,isObject:m,isString:x}=n(30832),{isSubjectReference:b}=n(18463),{expandIri:w,getInitialContext:j,process:A,processingMode:I}=n(54131),{compact:C,compactIri:S}=n(83251),{createNodeMap:N,createMergedNodeMap:L,mergeNodeMaps:O}=n(32664),E=function(e){const t={},E=new l({max:100});function k(t,{documentLoader:n=e.documentLoader,...r}){return Object.assign({},{documentLoader:n},r,t)}return e.compact=async function(t,n,r){if(arguments.length<2)throw new TypeError("Could not compact, too few arguments.");if(null===n)throw new c("The compaction context must not be null.","jsonld.CompactError",{code:"invalid local context"});if(null===t)return null;let o;(r=k(r,{base:x(t)?t:"",compactArrays:!0,compactToRelative:!0,graph:!1,skipExpansion:!1,link:!1,issuer:new s("_:b"),contextResolver:new i({sharedCache:E})})).link&&(r.skipExpansion=!0),r.compactToRelative||delete r.base,o=r.skipExpansion?t:await e.expand(t,r);const l=await e.processContext(j(r),n,r);let u=await C({activeCtx:l,element:o,options:r,compactionMap:r.compactionMap});r.compactArrays&&!r.graph&&y(u)?1===u.length?u=u[0]:0===u.length&&(u={}):r.graph&&m(u)&&(u=[u]),m(n)&&"@context"in n&&(n=n["@context"]),n=a.clone(n),y(n)||(n=[n]);const d=n;n=[];for(let e=0;e<d.length;++e)(!m(d[e])||Object.keys(d[e]).length>0)&&n.push(d[e]);const p=n.length>0;if(1===n.length&&(n=n[0]),y(u)){const e=S({activeCtx:l,iri:"@graph",relativeTo:{vocab:!0}}),t=u;u={},p&&(u["@context"]=n),u[e]=t}else if(m(u)&&p){const e=u;u={"@context":n};for(const t in e)u[t]=e[t]}return u},e.expand=async function(t,n){if(arguments.length<1)throw new TypeError("Could not expand, too few arguments.");!1===(n=k(n,{keepFreeFloatingNodes:!1,contextResolver:new i({sharedCache:E})})).expansionMap&&(n.expansionMap=void 0);const r={},o=[];if("expandContext"in n){const e=a.clone(n.expandContext);m(e)&&"@context"in e?r.expandContext=e:r.expandContext={"@context":e},o.push(r.expandContext)}let s;if(x(t)){const a=await e.get(t,n);s=a.documentUrl,r.input=a.document,a.contextUrl&&(r.remoteContext={"@context":a.contextUrl},o.push(r.remoteContext))}else r.input=a.clone(t);"base"in n||(n.base=s||"");let c=j(n);for(const e of o)c=await A({activeCtx:c,localCtx:e,options:n});let l=await d({activeCtx:c,element:r.input,options:n,expansionMap:n.expansionMap});return m(l)&&"@graph"in l&&1===Object.keys(l).length?l=l["@graph"]:null===l&&(l=[]),y(l)||(l=[l]),l},e.flatten=async function(t,n,r){if(arguments.length<1)return new TypeError("Could not flatten, too few arguments.");n="function"==typeof n?null:n||null,r=k(r,{base:x(t)?t:"",contextResolver:new i({sharedCache:E})});const o=await e.expand(t,r),a=p(o);if(null===n)return a;r.graph=!0,r.skipExpansion=!0;const s=await e.compact(a,n,r);return s},e.frame=async function(t,n,r){if(arguments.length<2)throw new TypeError("Could not frame, too few arguments.");if(r=k(r,{base:x(t)?t:"",embed:"@once",explicit:!1,requireAll:!1,omitDefault:!1,bnodesToClear:[],contextResolver:new i({sharedCache:E})}),x(n)){const t=await e.get(n,r);if(n=t.document,t.contextUrl){let e=n["@context"];e?y(e)?e.push(t.contextUrl):e=[e,t.contextUrl]:e=t.contextUrl,n["@context"]=e}}const o=n&&n["@context"]||{},a=await e.processContext(j(r),o,r);r.hasOwnProperty("omitGraph")||(r.omitGraph=I(a,1.1)),r.hasOwnProperty("pruneBlankNodeIdentifiers")||(r.pruneBlankNodeIdentifiers=I(a,1.1));const s=await e.expand(t,r),c={...r};c.isFrame=!0,c.keepFreeFloatingNodes=!0;const l=await e.expand(n,c),u=Object.keys(n).map((e=>w(a,e,{vocab:!0})));c.merged=!u.includes("@graph"),c.is11=I(a,1.1);const d=g(s,l,c);c.graph=!r.omitGraph,c.skipExpansion=!0,c.link={},c.framing=!0;let p=await e.compact(d,o,c);return c.link={},p=v(p,c),p},e.link=async function(t,n,r){const o={};return n&&(o["@context"]=n),o["@embed"]="@link",e.frame(t,o,r)},e.normalize=e.canonize=async function(t,n){if(arguments.length<1)throw new TypeError("Could not canonize, too few arguments.");if("inputFormat"in(n=k(n,{base:x(t)?t:"",algorithm:"URDNA2015",skipExpansion:!1,contextResolver:new i({sharedCache:E})}))){if("application/n-quads"!==n.inputFormat&&"application/nquads"!==n.inputFormat)throw new c("Unknown canonicalization input format.","jsonld.CanonizeError");const e=u.parse(t);return r.canonize(e,n)}const o={...n};delete o.format,o.produceGeneralizedRdf=!1;const a=await e.toRDF(t,o);return r.canonize(a,n)},e.fromRDF=async function(e,n){if(arguments.length<1)throw new TypeError("Could not convert from RDF, too few arguments.");n=k(n,{format:x(e)?"application/n-quads":void 0});const{format:r}=n;let{rdfParser:o}=n;if(r){if(o=o||t[r],!o)throw new c("Unknown input format.","jsonld.UnknownFormat",{format:r})}else o=()=>e;const a=await o(e);return f(a,n)},e.toRDF=async function(t,n){if(arguments.length<1)throw new TypeError("Could not convert to RDF, too few arguments.");let r;r=(n=k(n,{base:x(t)?t:"",skipExpansion:!1,contextResolver:new i({sharedCache:E})})).skipExpansion?t:await e.expand(t,n);const o=h(r,n);if(n.format){if("application/n-quads"===n.format||"application/nquads"===n.format)return u.serialize(o);throw new c("Unknown output format.","jsonld.UnknownFormat",{format:n.format})}return o},e.createNodeMap=async function(t,n){if(arguments.length<1)throw new TypeError("Could not create node map, too few arguments.");n=k(n,{base:x(t)?t:"",contextResolver:new i({sharedCache:E})});const r=await e.expand(t,n);return L(r,n)},e.merge=async function(t,n,r){if(arguments.length<1)throw new TypeError("Could not merge, too few arguments.");if(!y(t))throw new TypeError('Could not merge, "docs" must be an array.');n="function"==typeof n?null:n||null,r=k(r,{contextResolver:new i({sharedCache:E})});const o=await Promise.all(t.map((t=>{const n={...r};return e.expand(t,n)})));let c=!0;"mergeNodes"in r&&(c=r.mergeNodes);const l=r.issuer||new s("_:b"),u={"@default":{}};for(let e=0;e<o.length;++e){const t=a.relabelBlankNodes(o[e],{issuer:new s("_:b"+e+"-")}),n=c||0===e?u:{"@default":{}};if(N(t,n,"@default",l),n!==u)for(const e in n){const t=n[e];if(!(e in u)){u[e]=t;continue}const r=u[e];for(const e in t)e in r||(r[e]=t[e])}}const d=O(u),p=[],f=Object.keys(d).sort();for(let e=0;e<f.length;++e){const t=d[f[e]];b(t)||p.push(t)}if(null===n)return p;r.graph=!0,r.skipExpansion=!0;const h=await e.compact(p,n,r);return h},Object.defineProperty(e,"documentLoader",{get:()=>e._documentLoader,set:t=>e._documentLoader=t}),e.documentLoader=async e=>{throw new c("Could not retrieve a JSON-LD document from the URL. URL dereferencing not implemented.","jsonld.LoadDocumentError",{code:"loading document failed",url:e})},e.get=async function(t,n){let r;r="function"==typeof n.documentLoader?n.documentLoader:e.documentLoader;const o=await r(t);try{if(!o.document)throw new c("No remote document found at the given URL.","jsonld.NullRemoteDocument");x(o.document)&&(o.document=JSON.parse(o.document))}catch(e){throw new c("Could not retrieve a JSON-LD document from the URL.","jsonld.LoadDocumentError",{code:"loading document failed",cause:e,remoteDoc:o})}return o},e.processContext=async function(e,t,n){return n=k(n,{base:"",contextResolver:new i({sharedCache:E})}),null===t?j(n):(t=a.clone(t),m(t)&&"@context"in t||(t={"@context":t}),A({activeCtx:e,localCtx:t,options:n}))},e.getContextValue=n(54131).getContextValue,e.documentLoaders={},e.useDocumentLoader=function(t){if(!(t in e.documentLoaders))throw new c('Unknown document loader type: "'+t+'"',"jsonld.UnknownDocumentLoader",{type:t});e.documentLoader=e.documentLoaders[t].apply(e,Array.prototype.slice.call(arguments,1))},e.registerRDFParser=function(e,n){t[e]=n},e.unregisterRDFParser=function(e){delete t[e]},e.registerRDFParser("application/n-quads",u.parse),e.registerRDFParser("application/nquads",u.parse),e.url=n(82278),e.util=a,Object.assign(e,a),e.promises=e,e.RequestQueue=n(40533),e.JsonLdProcessor=n(60731)(e),o.setupGlobals(e),o.setupDocumentLoaders(e),e},k=function(){return E((function(){return k()}))};E(k),e.exports=k},32664:(e,t,n)=>{"use strict";const{isKeyword:r}=n(54131),o=n(18463),a=n(30832),i=n(51055),s=n(54093),c={};e.exports=c,c.createMergedNodeMap=(e,t)=>{const n=(t=t||{}).issuer||new i.IdentifierIssuer("_:b"),r={"@default":{}};return c.createNodeMap(e,r,"@default",n),c.mergeNodeMaps(r)},c.createNodeMap=(e,t,n,l,u,d)=>{if(a.isArray(e)){for(const r of e)c.createNodeMap(r,t,n,l,void 0,d);return}if(!a.isObject(e))return void(d&&d.push(e));if(o.isValue(e)){if("@type"in e){let t=e["@type"];0===t.indexOf("_:")&&(e["@type"]=t=l.getId(t))}return void(d&&d.push(e))}if(d&&o.isList(e)){const r=[];return c.createNodeMap(e["@list"],t,n,l,u,r),void d.push({"@list":r})}if("@type"in e){const t=e["@type"];for(const e of t)0===e.indexOf("_:")&&l.getId(e)}a.isUndefined(u)&&(u=o.isBlankNode(e)?l.getId(e["@id"]):e["@id"]),d&&d.push({"@id":u});const p=t[n],f=p[u]=p[u]||{};f["@id"]=u;const h=Object.keys(e).sort();for(let a of h){if("@id"===a)continue;if("@reverse"===a){const r={"@id":u},a=e["@reverse"];for(const e in a){const s=a[e];for(const a of s){let s=a["@id"];o.isBlankNode(a)&&(s=l.getId(s)),c.createNodeMap(a,t,n,l,s),i.addValue(p[s],e,r,{propertyIsArray:!0,allowDuplicate:!1})}}continue}if("@graph"===a){u in t||(t[u]={}),c.createNodeMap(e[a],t,u,l);continue}if("@included"===a){c.createNodeMap(e[a],t,n,l);continue}if("@type"!==a&&r(a)){if("@index"===a&&a in f&&(e[a]!==f[a]||e[a]["@id"]!==f[a]["@id"]))throw new s("Invalid JSON-LD syntax; conflicting @index property detected.","jsonld.SyntaxError",{code:"conflicting indexes",subject:f});f[a]=e[a];continue}const d=e[a];if(0===a.indexOf("_:")&&(a=l.getId(a)),0!==d.length)for(let e of d)if("@type"===a&&(e=0===e.indexOf("_:")?l.getId(e):e),o.isSubject(e)||o.isSubjectReference(e)){if("@id"in e&&!e["@id"])continue;const r=o.isBlankNode(e)?l.getId(e["@id"]):e["@id"];i.addValue(f,a,{"@id":r},{propertyIsArray:!0,allowDuplicate:!1}),c.createNodeMap(e,t,n,l,r)}else if(o.isValue(e))i.addValue(f,a,e,{propertyIsArray:!0,allowDuplicate:!1});else if(o.isList(e)){const r=[];c.createNodeMap(e["@list"],t,n,l,u,r),e={"@list":r},i.addValue(f,a,e,{propertyIsArray:!0,allowDuplicate:!1})}else c.createNodeMap(e,t,n,l,u),i.addValue(f,a,e,{propertyIsArray:!0,allowDuplicate:!1});else i.addValue(f,a,[],{propertyIsArray:!0})}},c.mergeNodeMapGraphs=e=>{const t={};for(const n of Object.keys(e).sort())for(const o of Object.keys(e[n]).sort()){const a=e[n][o];o in t||(t[o]={"@id":o});const s=t[o];for(const e of Object.keys(a).sort())if(r(e)&&"@type"!==e)s[e]=i.clone(a[e]);else for(const t of a[e])i.addValue(s,e,i.clone(t),{propertyIsArray:!0,allowDuplicate:!1})}return t},c.mergeNodeMaps=e=>{const t=e["@default"],n=Object.keys(e).sort();for(const r of n){if("@default"===r)continue;const n=e[r];let a=t[r];a?"@graph"in a||(a["@graph"]=[]):t[r]=a={"@id":r,"@graph":[]};const i=a["@graph"];for(const e of Object.keys(n).sort()){const t=n[e];o.isSubjectReference(t)||i.push(t)}}return t}},67222:(e,t,n)=>{"use strict";const r=n(8831),o={};e.exports=o,o.setupDocumentLoaders=function(e){"undefined"!=typeof XMLHttpRequest&&(e.documentLoaders.xhr=r,e.useDocumentLoader("xhr"))},o.setupGlobals=function(e){void 0===globalThis.JsonLdProcessor&&Object.defineProperty(globalThis,"JsonLdProcessor",{writable:!0,enumerable:!1,configurable:!0,value:e.JsonLdProcessor})}},19382:(e,t,n)=>{"use strict";const{createNodeMap:r}=n(32664),{isKeyword:o}=n(54131),a=n(18463),i=n(95456),s=n(30832),c=n(51055),{RDF_FIRST:l,RDF_REST:u,RDF_NIL:d,RDF_TYPE:p,RDF_JSON_LITERAL:f,RDF_LANGSTRING:h,XSD_BOOLEAN:g,XSD_DOUBLE:v,XSD_INTEGER:y,XSD_STRING:m}=n(93770),{isAbsolute:x}=n(82278),b={};function w(e,t,n,r,a){const i=Object.keys(t).sort();for(const s of i){const i=t[s],c=Object.keys(i).sort();for(let t of c){const c=i[t];if("@type"===t)t=p;else if(o(t))continue;for(const o of c){const i={termType:s.startsWith("_:")?"BlankNode":"NamedNode",value:s};if(!x(s))continue;const c={termType:t.startsWith("_:")?"BlankNode":"NamedNode",value:t};if(!x(t))continue;if("BlankNode"===c.termType&&!a.produceGeneralizedRdf)continue;const l=j(o,r,e,n,a.rdfDirection);l&&e.push({subject:i,predicate:c,object:l,graph:n})}}}}function j(e,t,n,r,o){const c={};if(a.isValue(e)){c.termType="Literal",c.value=void 0,c.datatype={termType:"NamedNode"};let t=e["@value"];const n=e["@type"]||null;if("@json"===n)c.value=i(t),c.datatype.value=f;else if(s.isBoolean(t))c.value=t.toString(),c.datatype.value=n||g;else if(s.isDouble(t)||n===v)s.isDouble(t)||(t=parseFloat(t)),c.value=t.toExponential(15).replace(/(\d)0*e\+?/,"$1E"),c.datatype.value=n||v;else if(s.isNumber(t))c.value=t.toFixed(0),c.datatype.value=n||y;else if("i18n-datatype"===o&&"@direction"in e){const n="https://www.w3.org/ns/i18n#"+(e["@language"]||"")+`_${e["@direction"]}`;c.datatype.value=n,c.value=t}else"@language"in e?(c.value=t,c.datatype.value=n||h,c.language=e["@language"]):(c.value=t,c.datatype.value=n||m)}else if(a.isList(e)){const a=function(e,t,n,r,o){const a={termType:"NamedNode",value:l},i={termType:"NamedNode",value:u},s={termType:"NamedNode",value:d},c=e.pop(),p=c?{termType:"BlankNode",value:t.getId()}:s;let f=p;for(const s of e){const e=j(s,t,n,r,o),c={termType:"BlankNode",value:t.getId()};n.push({subject:f,predicate:a,object:e,graph:r}),n.push({subject:f,predicate:i,object:c,graph:r}),f=c}if(c){const e=j(c,t,n,r,o);n.push({subject:f,predicate:a,object:e,graph:r}),n.push({subject:f,predicate:i,object:s,graph:r})}return p}(e["@list"],t,n,r,o);c.termType=a.termType,c.value=a.value}else{const t=s.isObject(e)?e["@id"]:e;c.termType=t.startsWith("_:")?"BlankNode":"NamedNode",c.value=t}return"NamedNode"!==c.termType||x(c.value)?c:null}e.exports=b,b.toRDF=(e,t)=>{const n=new c.IdentifierIssuer("_:b"),o={"@default":{}};r(e,o,"@default",n);const a=[],i=Object.keys(o).sort();for(const e of i){let r;if("@default"===e)r={termType:"DefaultGraph",value:""};else{if(!x(e))continue;r=e.startsWith("_:")?{termType:"BlankNode"}:{termType:"NamedNode"},r.value=e}w(a,o[e],r,n,t)}return a}},30832:e=>{"use strict";const t={};e.exports=t,t.isArray=Array.isArray,t.isBoolean=e=>"boolean"==typeof e||"[object Boolean]"===Object.prototype.toString.call(e),t.isDouble=e=>t.isNumber(e)&&(-1!==String(e).indexOf(".")||Math.abs(e)>=1e21),t.isEmptyObject=e=>t.isObject(e)&&0===Object.keys(e).length,t.isNumber=e=>"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e),t.isNumeric=e=>!isNaN(parseFloat(e))&&isFinite(e),t.isObject=e=>"[object Object]"===Object.prototype.toString.call(e),t.isString=e=>"string"==typeof e||"[object String]"===Object.prototype.toString.call(e),t.isUndefined=e=>void 0===e},82278:(e,t,n)=>{"use strict";const r=n(30832),o={};e.exports=o,o.parsers={simple:{keys:["href","scheme","authority","path","query","fragment"],regex:/^(?:([^:\/?#]+):)?(?:\/\/([^\/?#]*))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?/},full:{keys:["href","protocol","scheme","authority","auth","user","password","hostname","port","path","directory","file","query","fragment"],regex:/^(([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?(?:(((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/}},o.parse=(e,t)=>{const n={},r=o.parsers[t||"full"],a=r.regex.exec(e);let i=r.keys.length;for(;i--;)n[r.keys[i]]=void 0===a[i]?null:a[i];return("https"===n.scheme&&"443"===n.port||"http"===n.scheme&&"80"===n.port)&&(n.href=n.href.replace(":"+n.port,""),n.authority=n.authority.replace(":"+n.port,""),n.port=null),n.normalizedPath=o.removeDotSegments(n.path),n},o.prependBase=(e,t)=>{if(null===e)return t;if(o.isAbsolute(t))return t;e&&!r.isString(e)||(e=o.parse(e||""));const n=o.parse(t),a={protocol:e.protocol||""};if(null!==n.authority)a.authority=n.authority,a.path=n.path,a.query=n.query;else if(a.authority=e.authority,""===n.path)a.path=e.path,null!==n.query?a.query=n.query:a.query=e.query;else{if(0===n.path.indexOf("/"))a.path=n.path;else{let t=e.path;t=t.substr(0,t.lastIndexOf("/")+1),(t.length>0||e.authority)&&"/"!==t.substr(-1)&&(t+="/"),t+=n.path,a.path=t}a.query=n.query}""!==n.path&&(a.path=o.removeDotSegments(a.path));let i=a.protocol;return null!==a.authority&&(i+="//"+a.authority),i+=a.path,null!==a.query&&(i+="?"+a.query),null!==n.fragment&&(i+="#"+n.fragment),""===i&&(i="./"),i},o.removeBase=(e,t)=>{if(null===e)return t;e&&!r.isString(e)||(e=o.parse(e||""));let n="";if(""!==e.href?n+=(e.protocol||"")+"//"+(e.authority||""):t.indexOf("//")&&(n+="//"),0!==t.indexOf(n))return t;const a=o.parse(t.substr(n.length)),i=e.normalizedPath.split("/"),s=a.normalizedPath.split("/"),c=a.fragment||a.query?0:1;for(;i.length>0&&s.length>c&&i[0]===s[0];)i.shift(),s.shift();let l="";if(i.length>0){i.pop();for(let e=0;e<i.length;++e)l+="../"}return l+=s.join("/"),null!==a.query&&(l+="?"+a.query),null!==a.fragment&&(l+="#"+a.fragment),""===l&&(l="./"),l},o.removeDotSegments=e=>{if(0===e.length)return"";const t=e.split("/"),n=[];for(;t.length>0;){const e=t.shift(),r=0===t.length;"."!==e?".."!==e?n.push(e):(n.pop(),r&&n.push("")):r&&n.push("")}return"/"===e[0]&&n.length>0&&""!==n[0]&&n.unshift(""),1===n.length&&""===n[0]?"/":n.join("/")};const a=/^([A-Za-z][A-Za-z0-9+-.]*|_):[^\s]*$/;o.isAbsolute=e=>r.isString(e)&&a.test(e),o.isRelative=e=>r.isString(e)},51055:(e,t,n)=>{"use strict";const r=n(18463),o=n(30832),a=n(47055).IdentifierIssuer,i=n(54093),s=/(?:<[^>]*?>|"[^"]*?"|[^,])+/g,c=/\s*<([^>]*?)>\s*(?:;\s*(.*))?/,l=/(.*?)=(?:(?:"([^"]*?)")|([^"]*?))\s*(?:(?:;\s*)|$)/g,u="application/ld+json, application/json",d={};function p(e,t){if(o.isArray(t))for(let n=0;n<t.length;++n)t[n]=p(e,t[n]);else if(r.isList(t))t["@list"]=p(e,t["@list"]);else if(o.isObject(t)){r.isBlankNode(t)&&(t["@id"]=e.getId(t["@id"]));const n=Object.keys(t).sort();for(let r=0;r<n.length;++r){const o=n[r];"@id"!==o&&(t[o]=p(e,t[o]))}}return t}e.exports=d,d.IdentifierIssuer=a,d.clone=function(e){if(e&&"object"==typeof e){let t;if(o.isArray(e)){t=[];for(let n=0;n<e.length;++n)t[n]=d.clone(e[n])}else if(e instanceof Map){t=new Map;for(const[n,r]of e)t.set(n,d.clone(r))}else if(e instanceof Set){t=new Set;for(const n of e)t.add(d.clone(n))}else if(o.isObject(e)){t={};for(const n in e)t[n]=d.clone(e[n])}else t=e.toString();return t}return e},d.asArray=function(e){return Array.isArray(e)?e:[e]},d.buildHeaders=(e={})=>{if(Object.keys(e).some((e=>"accept"===e.toLowerCase())))throw new RangeError('Accept header may not be specified; only "'+u+'" is supported.');return Object.assign({Accept:u},e)},d.parseLinkHeader=e=>{const t={},n=e.match(s);for(let e=0;e<n.length;++e){let r=n[e].match(c);if(!r)continue;const o={target:r[1]},a=r[2];for(;r=l.exec(a);)o[r[1]]=void 0===r[2]?r[3]:r[2];const i=o.rel||"";Array.isArray(t[i])?t[i].push(o):t.hasOwnProperty(i)?t[i]=[t[i],o]:t[i]=o}return t},d.validateTypeValue=(e,t)=>{if(!(o.isString(e)||o.isArray(e)&&e.every((e=>o.isString(e))))){if(t&&o.isObject(e))switch(Object.keys(e).length){case 0:return;case 1:if("@default"in e&&d.asArray(e["@default"]).every((e=>o.isString(e))))return}throw new i('Invalid JSON-LD syntax; "@type" value must a string, an array of strings, an empty object, or a default object.',"jsonld.SyntaxError",{code:"invalid type value",value:e})}},d.hasProperty=(e,t)=>{if(e.hasOwnProperty(t)){const n=e[t];return!o.isArray(n)||n.length>0}return!1},d.hasValue=(e,t,n)=>{if(d.hasProperty(e,t)){let a=e[t];const i=r.isList(a);if(o.isArray(a)||i){i&&(a=a["@list"]);for(let e=0;e<a.length;++e)if(d.compareValues(n,a[e]))return!0}else if(!o.isArray(n))return d.compareValues(n,a)}return!1},d.addValue=(e,t,n,r)=>{if("propertyIsArray"in(r=r||{})||(r.propertyIsArray=!1),"valueIsArray"in r||(r.valueIsArray=!1),"allowDuplicate"in r||(r.allowDuplicate=!0),"prependValue"in r||(r.prependValue=!1),r.valueIsArray)e[t]=n;else if(o.isArray(n)){0===n.length&&r.propertyIsArray&&!e.hasOwnProperty(t)&&(e[t]=[]),r.prependValue&&(n=n.concat(e[t]),e[t]=[]);for(let o=0;o<n.length;++o)d.addValue(e,t,n[o],r)}else if(e.hasOwnProperty(t)){const a=!r.allowDuplicate&&d.hasValue(e,t,n);o.isArray(e[t])||a&&!r.propertyIsArray||(e[t]=[e[t]]),a||(r.prependValue?e[t].unshift(n):e[t].push(n))}else e[t]=r.propertyIsArray?[n]:n},d.getValues=(e,t)=>[].concat(e[t]||[]),d.removeProperty=(e,t)=>{delete e[t]},d.removeValue=(e,t,n,r)=>{"propertyIsArray"in(r=r||{})||(r.propertyIsArray=!1);const o=d.getValues(e,t).filter((e=>!d.compareValues(e,n)));0===o.length?d.removeProperty(e,t):1!==o.length||r.propertyIsArray?e[t]=o:e[t]=o[0]},d.relabelBlankNodes=(e,t)=>p((t=t||{}).issuer||new a("_:b"),e),d.compareValues=(e,t)=>e===t||!(!r.isValue(e)||!r.isValue(t)||e["@value"]!==t["@value"]||e["@type"]!==t["@type"]||e["@language"]!==t["@language"]||e["@index"]!==t["@index"])||!!(o.isObject(e)&&"@id"in e&&o.isObject(t)&&"@id"in t)&&e["@id"]===t["@id"],d.compareShortestLeast=(e,t)=>e.length<t.length?-1:t.length<e.length?1:e===t?0:e<t?-1:1},34155:e=>{var t,n,r=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function i(e){if(t===setTimeout)return setTimeout(e,0);if((t===o||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:o}catch(e){t=o}try{n="function"==typeof clearTimeout?clearTimeout:a}catch(e){n=a}}();var s,c=[],l=!1,u=-1;function d(){l&&s&&(l=!1,s.length?c=s.concat(c):u=-1,c.length&&p())}function p(){if(!l){var e=i(d);l=!0;for(var t=c.length;t;){for(s=c,c=[];++u<t;)s&&s[u].run();u=-1,t=c.length}s=null,l=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function h(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new f(e,t)),1!==c.length||l||i(p)},f.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=h,r.addListener=h,r.once=h,r.off=h,r.removeListener=h,r.removeAllListeners=h,r.emit=h,r.prependListener=h,r.prependOnceListener=h,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},47055:(e,t,n)=>{e.exports=n(29344)},12401:e=>{"use strict";e.exports=class e{constructor(e,t=new Map,n=0){this.prefix=e,this._existing=t,this.counter=n}clone(){const{prefix:t,_existing:n,counter:r}=this;return new e(t,new Map(n),r)}getId(e){const t=e&&this._existing.get(e);if(t)return t;const n=this.prefix+this.counter;return this.counter++,e&&this._existing.set(e,n),n}hasId(e){return this._existing.has(e)}getOldIds(){return[...this._existing.keys()]}}},75947:(e,t,n)=>{"use strict";n(24889);const r=self.crypto||self.msCrypto;e.exports=class{constructor(e){if(!r||!r.subtle)throw new Error("crypto.subtle not found.");if("sha256"===e)this.algorithm={name:"SHA-256"};else{if("sha1"!==e)throw new Error(`Unsupport algorithm "${e}".`);this.algorithm={name:"SHA-1"}}this._content=""}update(e){this._content+=e}async digest(){const e=(new TextEncoder).encode(this._content),t=new Uint8Array(await r.subtle.digest(this.algorithm,e));let n="";for(let e=0;e<t.length;++e)n+=t[e].toString(16).padStart(2,"0");return n}}},69980:e=>{"use strict";const t="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString",n="http://www.w3.org/2001/XMLSchema#string",r="NamedNode",o="BlankNode",a="Literal",i="DefaultGraph",s={};s.eoln=/(?:\r\n)|(?:\n)|(?:\r)/g,s.empty=new RegExp("^[ \\t]*$"),s.quad=new RegExp('^[ \\t]*(?:(?:<([^:]+:[^>]*)>)|(_:(?:[A-Za-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌-‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�_0-9])(?:(?:[A-Za-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌-‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�_0-9-·̀-ͯ‿-⁀.])*(?:[A-Za-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌-‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�_0-9-·̀-ͯ‿-⁀]))?))[ \\t]+(?:<([^:]+:[^>]*)>)[ \\t]+(?:(?:<([^:]+:[^>]*)>)|(_:(?:[A-Za-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌-‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�_0-9])(?:(?:[A-Za-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌-‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�_0-9-·̀-ͯ‿-⁀.])*(?:[A-Za-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌-‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�_0-9-·̀-ͯ‿-⁀]))?)|(?:"([^"\\\\]*(?:\\\\.[^"\\\\]*)*)"(?:(?:\\^\\^(?:<([^:]+:[^>]*)>))|(?:@([a-zA-Z]+(?:-[a-zA-Z0-9]+)*)))?))[ \\t]*(?:\\.|(?:(?:(?:<([^:]+:[^>]*)>)|(_:(?:[A-Za-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌-‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�_0-9])(?:(?:[A-Za-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌-‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�_0-9-·̀-ͯ‿-⁀.])*(?:[A-Za-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌-‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�_0-9-·̀-ͯ‿-⁀]))?))[ \\t]*\\.))[ \\t]*$'),e.exports=class e{static parse(e){const c=[],u={},d=e.split(s.eoln);let p=0;for(const e of d){if(p++,s.empty.test(e))continue;const d=e.match(s.quad);if(null===d)throw new Error("N-Quads parse error on line "+p+".");const g={subject:null,predicate:null,object:null,graph:null};if(void 0!==d[1]?g.subject={termType:r,value:d[1]}:g.subject={termType:o,value:d[2]},g.predicate={termType:r,value:d[3]},void 0!==d[4]?g.object={termType:r,value:d[4]}:void 0!==d[5]?g.object={termType:o,value:d[5]}:(g.object={termType:a,value:void 0,datatype:{termType:r}},void 0!==d[7]?g.object.datatype.value=d[7]:void 0!==d[8]?(g.object.datatype.value=t,g.object.language=d[8]):g.object.datatype.value=n,g.object.value=d[6].replace(l,(function(e,t,n,r){if(t)switch(t){case"t":return"\t";case"b":return"\b";case"n":return"\n";case"r":return"\r";case"f":return"\f";case'"':return'"';case"'":return"'";case"\\":return"\\"}if(n)return String.fromCharCode(parseInt(n,16));if(r)throw new Error("Unsupported U escape")}))),void 0!==d[9]?g.graph={termType:r,value:d[9]}:void 0!==d[10]?g.graph={termType:o,value:d[10]}:g.graph={termType:i,value:""},g.graph.value in u){let e=!0;const t=u[g.graph.value];for(const n of t)if(h=g,(f=n).subject.termType===h.subject.termType&&f.object.termType===h.object.termType&&f.subject.value===h.subject.value&&f.predicate.value===h.predicate.value&&f.object.value===h.object.value&&(f.object.termType!==a||f.object.datatype.termType===h.object.datatype.termType&&f.object.language===h.object.language&&f.object.datatype.value===h.object.datatype.value)){e=!1;break}e&&(t.push(g),c.push(g))}else u[g.graph.value]=[g],c.push(g)}var f,h;return c}static serialize(t){Array.isArray(t)||(t=e.legacyDatasetToQuads(t));const n=[];for(const r of t)n.push(e.serializeQuad(r));return n.sort().join("")}static serializeQuad(e){const a=e.subject,i=e.predicate,s=e.object,l=e.graph;let u="";return a.termType===r?u+=`<${a.value}>`:u+=`${a.value}`,u+=` <${i.value}> `,s.termType===r?u+=`<${s.value}>`:s.termType===o?u+=s.value:(u+=`"${function(e){return e.replace(c,(function(e){switch(e){case'"':return'\\"';case"\\":return"\\\\";case"\n":return"\\n";case"\r":return"\\r"}}))}(s.value)}"`,s.datatype.value===t?s.language&&(u+=`@${s.language}`):s.datatype.value!==n&&(u+=`^^<${s.datatype.value}>`)),l.termType===r?u+=` <${l.value}>`:l.termType===o&&(u+=` ${l.value}`),u+=" .\n",u}static legacyDatasetToQuads(e){const s=[],c={"blank node":o,IRI:r,literal:a};for(const l in e)e[l].forEach((e=>{const u={};for(const o in e){const i=e[o],s={termType:c[i.type],value:i.value};s.termType===a&&(s.datatype={termType:r},"datatype"in i&&(s.datatype.value=i.datatype),"language"in i?("datatype"in i||(s.datatype.value=t),s.language=i.language):"datatype"in i||(s.datatype.value=n)),u[o]=s}u.graph="@default"===l?{termType:i,value:""}:{termType:l.startsWith("_:")?o:r,value:l},s.push(u)}));return s}};const c=/["\\\n\r]/g,l=/(?:\\([tbnrf"'\\]))|(?:\\u([0-9A-Fa-f]{4}))|(?:\\U([0-9A-Fa-f]{8}))/g},68326:e=>{"use strict";e.exports=class{constructor(e){this.current=e.sort(),this.done=!1,this.dir=new Map;for(let t=0;t<e.length;++t)this.dir.set(e[t],!0)}hasNext(){return!this.done}next(){const{current:e,dir:t}=this,n=e.slice();let r=null,o=0;const a=e.length;for(let n=0;n<a;++n){const i=e[n],s=t.get(i);(null===r||i>r)&&(s&&n>0&&i>e[n-1]||!s&&n<a-1&&i>e[n+1])&&(r=i,o=n)}if(null===r)this.done=!0;else{const n=t.get(r)?o-1:o+1;e[o]=e[n],e[n]=r;for(const n of e)n>r&&t.set(n,!t.get(n))}return n}}},23445:(e,t,n)=>{"use strict";const r=n(12401),o=n(75947),a=n(68326),i=n(69980);function s(e,t){return e.hash<t.hash?-1:e.hash>t.hash?1:0}e.exports=class{constructor(){this.name="URDNA2015",this.blankNodeInfo=new Map,this.canonicalIssuer=new r("_:c14n"),this.hashAlgorithm="sha256",this.quads=null}async main(e){this.quads=e;for(const t of e)this._addBlankNodeQuadInfo({quad:t,component:t.subject}),this._addBlankNodeQuadInfo({quad:t,component:t.object}),this._addBlankNodeQuadInfo({quad:t,component:t.graph});const t=new Map,n=[...this.blankNodeInfo.keys()];let o=0;for(const e of n)++o%100==0&&await this._yield(),await this._hashAndTrackBlankNode({id:e,hashToBlankNodes:t});const a=[...t.keys()].sort(),c=[];for(const e of a){const n=t.get(e);if(n.length>1){c.push(n);continue}const r=n[0];this.canonicalIssuer.getId(r)}for(const e of c){const t=[];for(const n of e){if(this.canonicalIssuer.hasId(n))continue;const e=new r("_:b");e.getId(n);const o=await this.hashNDegreeQuads(n,e);t.push(o)}t.sort(s);for(const e of t){const t=e.issuer.getOldIds();for(const e of t)this.canonicalIssuer.getId(e)}}const l=[];for(const e of this.quads){const t={...e};t.subject=this._useCanonicalId({component:t.subject}),t.object=this._useCanonicalId({component:t.object}),t.graph=this._useCanonicalId({component:t.graph}),l.push(i.serializeQuad(t))}return l.sort(),l.join("")}async hashFirstDegreeQuads(e){const t=[],n=this.blankNodeInfo.get(e),r=n.quads;for(const n of r){const r={subject:null,predicate:n.predicate,object:null,graph:null};r.subject=this.modifyFirstDegreeComponent(e,n.subject,"subject"),r.object=this.modifyFirstDegreeComponent(e,n.object,"object"),r.graph=this.modifyFirstDegreeComponent(e,n.graph,"graph"),t.push(i.serializeQuad(r))}t.sort();const a=new o(this.hashAlgorithm);for(const e of t)a.update(e);return n.hash=await a.digest(),n.hash}async hashRelatedBlankNode(e,t,n,r){let a;a=this.canonicalIssuer.hasId(e)?this.canonicalIssuer.getId(e):n.hasId(e)?n.getId(e):this.blankNodeInfo.get(e).hash;const i=new o(this.hashAlgorithm);return i.update(r),"g"!==r&&i.update(this.getRelatedPredicate(t)),i.update(a),i.digest()}async hashNDegreeQuads(e,t){const n=new o(this.hashAlgorithm),r=await this.createHashToRelated(e,t),i=[...r.keys()].sort();for(const e of i){n.update(e);let o,i="";const s=new a(r.get(e));let c=0;for(;s.hasNext();){const e=s.next();++c%3==0&&await this._yield();let n=t.clone(),r="";const a=[];let l=!1;for(const t of e)if(this.canonicalIssuer.hasId(t)?r+=this.canonicalIssuer.getId(t):(n.hasId(t)||a.push(t),r+=n.getId(t)),0!==i.length&&r>i){l=!0;break}if(!l){for(const e of a){const t=await this.hashNDegreeQuads(e,n);if(r+=n.getId(e),r+=`<${t.hash}>`,n=t.issuer,0!==i.length&&r>i){l=!0;break}}l||(0===i.length||r<i)&&(i=r,o=n)}}n.update(i),t=o}return{hash:await n.digest(),issuer:t}}modifyFirstDegreeComponent(e,t){return"BlankNode"!==t.termType?t:{termType:"BlankNode",value:t.value===e?"_:a":"_:z"}}getRelatedPredicate(e){return`<${e.predicate.value}>`}async createHashToRelated(e,t){const n=new Map,r=this.blankNodeInfo.get(e).quads;let o=0;for(const a of r)++o%100==0&&await this._yield(),await Promise.all([this._addRelatedBlankNodeHash({quad:a,component:a.subject,position:"s",id:e,issuer:t,hashToRelated:n}),this._addRelatedBlankNodeHash({quad:a,component:a.object,position:"o",id:e,issuer:t,hashToRelated:n}),this._addRelatedBlankNodeHash({quad:a,component:a.graph,position:"g",id:e,issuer:t,hashToRelated:n})]);return n}async _hashAndTrackBlankNode({id:e,hashToBlankNodes:t}){const n=await this.hashFirstDegreeQuads(e),r=t.get(n);r?r.push(e):t.set(n,[e])}_addBlankNodeQuadInfo({quad:e,component:t}){if("BlankNode"!==t.termType)return;const n=t.value,r=this.blankNodeInfo.get(n);r?r.quads.add(e):this.blankNodeInfo.set(n,{quads:new Set([e]),hash:null})}async _addRelatedBlankNodeHash({quad:e,component:t,position:n,id:r,issuer:o,hashToRelated:a}){if("BlankNode"!==t.termType||t.value===r)return;const i=t.value,s=await this.hashRelatedBlankNode(i,e,o,n),c=a.get(s);c?c.push(i):a.set(s,[i])}_useCanonicalId({component:e}){return"BlankNode"!==e.termType||e.value.startsWith(this.canonicalIssuer.prefix)?e:{termType:"BlankNode",value:this.canonicalIssuer.getId(e.value)}}async _yield(){return new Promise((e=>setImmediate(e)))}}},5643:(e,t,n)=>{"use strict";const r=n(12401),o=n(75947),a=n(68326),i=n(69980);function s(e,t){return e.hash<t.hash?-1:e.hash>t.hash?1:0}e.exports=class{constructor(){this.name="URDNA2015",this.blankNodeInfo=new Map,this.canonicalIssuer=new r("_:c14n"),this.hashAlgorithm="sha256",this.quads=null}main(e){this.quads=e;for(const t of e)this._addBlankNodeQuadInfo({quad:t,component:t.subject}),this._addBlankNodeQuadInfo({quad:t,component:t.object}),this._addBlankNodeQuadInfo({quad:t,component:t.graph});const t=new Map,n=[...this.blankNodeInfo.keys()];for(const e of n)this._hashAndTrackBlankNode({id:e,hashToBlankNodes:t});const o=[...t.keys()].sort(),a=[];for(const e of o){const n=t.get(e);if(n.length>1){a.push(n);continue}const r=n[0];this.canonicalIssuer.getId(r)}for(const e of a){const t=[];for(const n of e){if(this.canonicalIssuer.hasId(n))continue;const e=new r("_:b");e.getId(n);const o=this.hashNDegreeQuads(n,e);t.push(o)}t.sort(s);for(const e of t){const t=e.issuer.getOldIds();for(const e of t)this.canonicalIssuer.getId(e)}}const c=[];for(const e of this.quads){const t={...e};t.subject=this._useCanonicalId({component:t.subject}),t.object=this._useCanonicalId({component:t.object}),t.graph=this._useCanonicalId({component:t.graph}),c.push(i.serializeQuad(t))}return c.sort(),c.join("")}hashFirstDegreeQuads(e){const t=[],n=this.blankNodeInfo.get(e),r=n.quads;for(const n of r){const r={subject:null,predicate:n.predicate,object:null,graph:null};r.subject=this.modifyFirstDegreeComponent(e,n.subject,"subject"),r.object=this.modifyFirstDegreeComponent(e,n.object,"object"),r.graph=this.modifyFirstDegreeComponent(e,n.graph,"graph"),t.push(i.serializeQuad(r))}t.sort();const a=new o(this.hashAlgorithm);for(const e of t)a.update(e);return n.hash=a.digest(),n.hash}hashRelatedBlankNode(e,t,n,r){let a;a=this.canonicalIssuer.hasId(e)?this.canonicalIssuer.getId(e):n.hasId(e)?n.getId(e):this.blankNodeInfo.get(e).hash;const i=new o(this.hashAlgorithm);return i.update(r),"g"!==r&&i.update(this.getRelatedPredicate(t)),i.update(a),i.digest()}hashNDegreeQuads(e,t){const n=new o(this.hashAlgorithm),r=this.createHashToRelated(e,t),i=[...r.keys()].sort();for(const e of i){n.update(e);let o,i="";const s=new a(r.get(e));for(;s.hasNext();){const e=s.next();let n=t.clone(),r="";const a=[];let c=!1;for(const t of e)if(this.canonicalIssuer.hasId(t)?r+=this.canonicalIssuer.getId(t):(n.hasId(t)||a.push(t),r+=n.getId(t)),0!==i.length&&r>i){c=!0;break}if(!c){for(const e of a){const t=this.hashNDegreeQuads(e,n);if(r+=n.getId(e),r+=`<${t.hash}>`,n=t.issuer,0!==i.length&&r>i){c=!0;break}}c||(0===i.length||r<i)&&(i=r,o=n)}}n.update(i),t=o}return{hash:n.digest(),issuer:t}}modifyFirstDegreeComponent(e,t){return"BlankNode"!==t.termType?t:{termType:"BlankNode",value:t.value===e?"_:a":"_:z"}}getRelatedPredicate(e){return`<${e.predicate.value}>`}createHashToRelated(e,t){const n=new Map,r=this.blankNodeInfo.get(e).quads;for(const o of r)this._addRelatedBlankNodeHash({quad:o,component:o.subject,position:"s",id:e,issuer:t,hashToRelated:n}),this._addRelatedBlankNodeHash({quad:o,component:o.object,position:"o",id:e,issuer:t,hashToRelated:n}),this._addRelatedBlankNodeHash({quad:o,component:o.graph,position:"g",id:e,issuer:t,hashToRelated:n});return n}_hashAndTrackBlankNode({id:e,hashToBlankNodes:t}){const n=this.hashFirstDegreeQuads(e),r=t.get(n);r?r.push(e):t.set(n,[e])}_addBlankNodeQuadInfo({quad:e,component:t}){if("BlankNode"!==t.termType)return;const n=t.value,r=this.blankNodeInfo.get(n);r?r.quads.add(e):this.blankNodeInfo.set(n,{quads:new Set([e]),hash:null})}_addRelatedBlankNodeHash({quad:e,component:t,position:n,id:r,issuer:o,hashToRelated:a}){if("BlankNode"!==t.termType||t.value===r)return;const i=t.value,s=this.hashRelatedBlankNode(i,e,o,n),c=a.get(s);c?c.push(i):a.set(s,[i])}_useCanonicalId({component:e}){return"BlankNode"!==e.termType||e.value.startsWith(this.canonicalIssuer.prefix)?e:{termType:"BlankNode",value:this.canonicalIssuer.getId(e.value)}}}},89201:(e,t,n)=>{"use strict";const r=n(23445);e.exports=class extends r{constructor(){super(),this.name="URGNA2012",this.hashAlgorithm="sha1"}modifyFirstDegreeComponent(e,t,n){return"BlankNode"!==t.termType?t:"graph"===n?{termType:"BlankNode",value:"_:g"}:{termType:"BlankNode",value:t.value===e?"_:a":"_:z"}}getRelatedPredicate(e){return e.predicate.value}async createHashToRelated(e,t){const n=new Map,r=this.blankNodeInfo.get(e).quads;let o=0;for(const a of r){let r,i;if("BlankNode"===a.subject.termType&&a.subject.value!==e)i=a.subject.value,r="p";else{if("BlankNode"!==a.object.termType||a.object.value===e)continue;i=a.object.value,r="r"}++o%100==0&&await this._yield();const s=await this.hashRelatedBlankNode(i,a,t,r),c=n.get(s);c?c.push(i):n.set(s,[i])}return n}}},17702:(e,t,n)=>{"use strict";const r=n(5643);e.exports=class extends r{constructor(){super(),this.name="URGNA2012",this.hashAlgorithm="sha1"}modifyFirstDegreeComponent(e,t,n){return"BlankNode"!==t.termType?t:"graph"===n?{termType:"BlankNode",value:"_:g"}:{termType:"BlankNode",value:t.value===e?"_:a":"_:z"}}getRelatedPredicate(e){return e.predicate.value}createHashToRelated(e,t){const n=new Map,r=this.blankNodeInfo.get(e).quads;for(const o of r){let r,a;if("BlankNode"===o.subject.termType&&o.subject.value!==e)a=o.subject.value,r="p";else{if("BlankNode"!==o.object.termType||o.object.value===e)continue;a=o.object.value,r="r"}const i=this.hashRelatedBlankNode(a,o,t,r),s=n.get(i);s?s.push(a):n.set(i,[a])}return n}}},29344:(e,t,n)=>{"use strict";const r=n(23445),o=n(89201),a=n(5643),i=n(17702);let s;try{s=n(97670)}catch(e){}const c={};e.exports=c,c.NQuads=n(69980),c.IdentifierIssuer=n(12401),c._rdfCanonizeNative=function(e){return e&&(s=e),s},c.canonize=async function(e,t){if(Array.isArray(e)||(e=c.NQuads.legacyDatasetToQuads(e)),t.useNative){if(!s)throw new Error("rdf-canonize-native not available");return new Promise(((n,r)=>s.canonize(e,t,((e,t)=>e?r(e):n(t)))))}if("URDNA2015"===t.algorithm)return new r(t).main(e);if("URGNA2012"===t.algorithm)return new o(t).main(e);if(!("algorithm"in t))throw new Error("No RDF Dataset Canonicalization algorithm specified.");throw new Error("Invalid RDF Dataset Canonicalization algorithm: "+t.algorithm)},c._canonizeSync=function(e,t){if(Array.isArray(e)||(e=c.NQuads.legacyDatasetToQuads(e)),t.useNative){if(s)return s.canonizeSync(e,t);throw new Error("rdf-canonize-native not available")}if("URDNA2015"===t.algorithm)return new a(t).main(e);if("URGNA2012"===t.algorithm)return new i(t).main(e);if(!("algorithm"in t))throw new Error("No RDF Dataset Canonicalization algorithm specified.");throw new Error("Invalid RDF Dataset Canonicalization algorithm: "+t.algorithm)}},24889:function(e,t,n){var r=n(34155);!function(e,t){"use strict";if(!e.setImmediate){var n,o,a,i,s,c=1,l={},u=!1,d=e.document,p=Object.getPrototypeOf&&Object.getPrototypeOf(e);p=p&&p.setTimeout?p:e,"[object process]"==={}.toString.call(e.process)?n=function(e){r.nextTick((function(){h(e)}))}:function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?(i="setImmediate$"+Math.random()+"$",s=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(i)&&h(+t.data.slice(i.length))},e.addEventListener?e.addEventListener("message",s,!1):e.attachEvent("onmessage",s),n=function(t){e.postMessage(i+t,"*")}):e.MessageChannel?((a=new MessageChannel).port1.onmessage=function(e){h(e.data)},n=function(e){a.port2.postMessage(e)}):d&&"onreadystatechange"in d.createElement("script")?(o=d.documentElement,n=function(e){var t=d.createElement("script");t.onreadystatechange=function(){h(e),t.onreadystatechange=null,o.removeChild(t),t=null},o.appendChild(t)}):n=function(e){setTimeout(h,0,e)},p.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),r=0;r<t.length;r++)t[r]=arguments[r+1];var o={callback:e,args:t};return l[c]=o,n(c),c++},p.clearImmediate=f}function f(e){delete l[e]}function h(e){if(u)setTimeout(h,0,e);else{var t=l[e];if(t){u=!0;try{!function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(void 0,n)}}(t)}finally{f(e),u=!1}}}}}("undefined"==typeof self?void 0===n.g?this:n.g:self)}}]);